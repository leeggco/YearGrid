(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6825:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>a.a,__next_app__:()=>c,originalPathname:()=>h,pages:()=>d,routeModule:()=>m,tree:()=>u}),i(2288),i(6698),i(5866);var n=i(3191),r=i(8716),s=i(7922),a=i.n(s),o=i(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);i.d(t,l);let u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,2288)),"C:\\Users\\York\\Desktop\\Project\\my\\YearGrid\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,6698)),"C:\\Users\\York\\Desktop\\Project\\my\\YearGrid\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\York\\Desktop\\Project\\my\\YearGrid\\app\\page.tsx"],h="/page",c={require:i,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},5400:(e,t,i)=>{Promise.resolve().then(i.bind(i,4496))},4496:(e,t,i)=>{"use strict";let n;i.d(t,{default:()=>aB});var r,s,a=i(326),o=i(7577);let l={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function u(e){return (t={})=>{let i=t.width?String(t.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}let d={date:u({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:u({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:u({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},h={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function c(e){return(t,i)=>{let n;if("formatting"===(i?.context?String(i.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,r=i?.width?String(i.width):t;n=e.formattingValues[r]||e.formattingValues[t]}else{let t=e.defaultWidth,r=i?.width?String(i.width):e.defaultWidth;n=e.values[r]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function m(e){return(t,i={})=>{let n;let r=i.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;let o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return i}(l,e=>e.test(o)):function(e,t){for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return i}(l,e=>e.test(o));return n=e.valueCallback?e.valueCallback(u):u,{value:n=i.valueCallback?i.valueCallback(n):n,rest:t.slice(o.length)}}}let p={code:"en-US",formatDistance:(e,t,i)=>{let n;let r=l[e];return(n="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),i?.addSuffix)?i.comparison&&i.comparison>0?"in "+n:n+" ago":n},formatLong:d,formatRelative:(e,t,i,n)=>h[e],localize:{ordinalNumber:(e,t)=>{let i=Number(e),n=i%100;if(n>20||n<10)switch(n%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:c({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:c({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:c({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:c({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:c({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(e){return(t,i={})=>{let n=t.match(e.matchPattern);if(!n)return null;let r=n[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:a=i.valueCallback?i.valueCallback(a):a,rest:t.slice(r.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:m({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:m({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:m({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:m({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:m({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},f={},g=Symbol.for("constructDateFrom");function y(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&g in e?e[g](t):e instanceof Date?new e.constructor(t):new Date(t)}function x(e,t){return y(t||e,e)}function v(e){let t=x(e),i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return i.setUTCFullYear(t.getFullYear()),+e-+i}function b(e,...t){let i=y.bind(null,e||t.find(e=>"object"==typeof e));return t.map(i)}function w(e,t){let i=x(e,t?.in);return i.setHours(0,0,0,0),i}function S(e,t,i){let[n,r]=b(i?.in,e,t),s=w(n),a=w(r);return Math.round((+s-v(s)-(+a-v(a)))/864e5)}function D(e,t){let i=x(e,t?.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}function M(e,t){let i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??f.weekStartsOn??f.locale?.options?.weekStartsOn??0,n=x(e,t?.in),r=n.getDay();return n.setDate(n.getDate()-((r<i?7:0)+r-i)),n.setHours(0,0,0,0),n}function j(e,t){return M(e,{...t,weekStartsOn:1})}function k(e,t){let i=x(e,t?.in),n=i.getFullYear(),r=y(i,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let s=j(r),a=y(i,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);let o=j(a);return i.getTime()>=s.getTime()?n+1:i.getTime()>=o.getTime()?n:n-1}function T(e,t){let i=x(e,t?.in),n=i.getFullYear(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??f.firstWeekContainsDate??f.locale?.options?.firstWeekContainsDate??1,s=y(t?.in||e,0);s.setFullYear(n+1,0,r),s.setHours(0,0,0,0);let a=M(s,t),o=y(t?.in||e,0);o.setFullYear(n,0,r),o.setHours(0,0,0,0);let l=M(o,t);return+i>=+a?n+1:+i>=+l?n:n-1}function N(e,t){let i=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+i}let P={y(e,t){let i=e.getFullYear(),n=i>0?i:1-i;return N("yy"===t?n%100:n,t.length)},M(e,t){let i=e.getMonth();return"M"===t?String(i+1):N(i+1,2)},d:(e,t)=>N(e.getDate(),t.length),a(e,t){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return"am"===i?"a.m.":"p.m."}},h:(e,t)=>N(e.getHours()%12||12,t.length),H:(e,t)=>N(e.getHours(),t.length),m:(e,t)=>N(e.getMinutes(),t.length),s:(e,t)=>N(e.getSeconds(),t.length),S(e,t){let i=t.length;return N(Math.trunc(e.getMilliseconds()*Math.pow(10,i-3)),t.length)}},C={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},A={G:function(e,t,i){let n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"});case"GGGGG":return i.era(n,{width:"narrow"});default:return i.era(n,{width:"wide"})}},y:function(e,t,i){if("yo"===t){let t=e.getFullYear();return i.ordinalNumber(t>0?t:1-t,{unit:"year"})}return P.y(e,t)},Y:function(e,t,i,n){let r=T(e,n),s=r>0?r:1-r;return"YY"===t?N(s%100,2):"Yo"===t?i.ordinalNumber(s,{unit:"year"}):N(s,t.length)},R:function(e,t){return N(k(e),t.length)},u:function(e,t){return N(e.getFullYear(),t.length)},Q:function(e,t,i){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return N(n,2);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});default:return i.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,i){let n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return N(n,2);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});default:return i.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,i){let n=e.getMonth();switch(t){case"M":case"MM":return P.M(e,t);case"Mo":return i.ordinalNumber(n+1,{unit:"month"});case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});default:return i.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,i){let n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return N(n+1,2);case"Lo":return i.ordinalNumber(n+1,{unit:"month"});case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});default:return i.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,i,n){let r=function(e,t){let i=x(e,t?.in);return Math.round((+M(i,t)-+function(e,t){let i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??f.firstWeekContainsDate??f.locale?.options?.firstWeekContainsDate??1,n=T(e,t),r=y(t?.in||e,0);return r.setFullYear(n,0,i),r.setHours(0,0,0,0),M(r,t)}(i,t))/6048e5)+1}(e,n);return"wo"===t?i.ordinalNumber(r,{unit:"week"}):N(r,t.length)},I:function(e,t,i){let n=function(e,t){let i=x(e,void 0);return Math.round((+j(i)-+function(e,t){let i=k(e,void 0),n=y(e,0);return n.setFullYear(i,0,4),n.setHours(0,0,0,0),j(n)}(i))/6048e5)+1}(e);return"Io"===t?i.ordinalNumber(n,{unit:"week"}):N(n,t.length)},d:function(e,t,i){return"do"===t?i.ordinalNumber(e.getDate(),{unit:"date"}):P.d(e,t)},D:function(e,t,i){let n=function(e,t){let i=x(e,void 0);return S(i,D(i))+1}(e);return"Do"===t?i.ordinalNumber(n,{unit:"dayOfYear"}):N(n,t.length)},E:function(e,t,i){let n=e.getDay();switch(t){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"});default:return i.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,i,n){let r=e.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return N(s,2);case"eo":return i.ordinalNumber(s,{unit:"day"});case"eee":return i.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,i,n){let r=e.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return N(s,t.length);case"co":return i.ordinalNumber(s,{unit:"day"});case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"});default:return i.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,i){let n=e.getDay(),r=0===n?7:n;switch(t){case"i":return String(r);case"ii":return N(r,t.length);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return i.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(n,{width:"short",context:"formatting"});default:return i.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,i){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,i){let n;let r=e.getHours();switch(n=12===r?C.noon:0===r?C.midnight:r/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,i){let n;let r=e.getHours();switch(n=r>=17?C.evening:r>=12?C.afternoon:r>=4?C.morning:C.night,t){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,i){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),i.ordinalNumber(t,{unit:"hour"})}return P.h(e,t)},H:function(e,t,i){return"Ho"===t?i.ordinalNumber(e.getHours(),{unit:"hour"}):P.H(e,t)},K:function(e,t,i){let n=e.getHours()%12;return"Ko"===t?i.ordinalNumber(n,{unit:"hour"}):N(n,t.length)},k:function(e,t,i){let n=e.getHours();return(0===n&&(n=24),"ko"===t)?i.ordinalNumber(n,{unit:"hour"}):N(n,t.length)},m:function(e,t,i){return"mo"===t?i.ordinalNumber(e.getMinutes(),{unit:"minute"}):P.m(e,t)},s:function(e,t,i){return"so"===t?i.ordinalNumber(e.getSeconds(),{unit:"second"}):P.s(e,t)},S:function(e,t){return P.S(e,t)},X:function(e,t,i){let n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return E(n);case"XXXX":case"XX":return z(n);default:return z(n,":")}},x:function(e,t,i){let n=e.getTimezoneOffset();switch(t){case"x":return E(n);case"xxxx":case"xx":return z(n);default:return z(n,":")}},O:function(e,t,i){let n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_(n,":");default:return"GMT"+z(n,":")}},z:function(e,t,i){let n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_(n,":");default:return"GMT"+z(n,":")}},t:function(e,t,i){return N(Math.trunc(+e/1e3),t.length)},T:function(e,t,i){return N(+e,t.length)}};function _(e,t=""){let i=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),s=n%60;return 0===s?i+String(r):i+String(r)+t+N(s,2)}function E(e,t){return e%60==0?(e>0?"-":"+")+N(Math.abs(e)/60,2):z(e,t)}function z(e,t=""){let i=Math.abs(e);return(e>0?"-":"+")+N(Math.trunc(i/60),2)+t+N(i%60,2)}let O=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},F=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},R={p:F,P:(e,t)=>{let i;let n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return O(e,t);switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",O(r,t)).replace("{{time}}",F(s,t))}},I=/^D+$/,$=/^Y+$/,V=["D","DD","YY","YYYY"],Y=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B=/^'([^]*?)'?$/,W=/''/g,U=/[a-zA-Z]/;function H(e,t,i){let n=i?.locale??f.locale??p,r=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??f.firstWeekContainsDate??f.locale?.options?.firstWeekContainsDate??1,s=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??f.weekStartsOn??f.locale?.options?.weekStartsOn??0,a=x(e,i?.in);if(!(a instanceof Date||"object"==typeof a&&"[object Date]"===Object.prototype.toString.call(a))&&"number"!=typeof a||isNaN(+x(a)))throw RangeError("Invalid time value");let o=t.match(L).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,R[t])(e,n.formatLong):e}).join("").match(Y).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t)return{isToken:!1,value:function(e){let t=e.match(B);return t?t[1].replace(W,"'"):e}(e)};if(A[t])return{isToken:!0,value:e};if(t.match(U))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});n.localize.preprocessor&&(o=n.localize.preprocessor(a,o));let l={firstWeekContainsDate:r,weekStartsOn:s,locale:n};return o.map(r=>{if(!r.isToken)return r.value;let s=r.value;return(!i?.useAdditionalWeekYearTokens&&$.test(s)||!i?.useAdditionalDayOfYearTokens&&I.test(s))&&function(e,t,i){let n=function(e,t,i){let n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,i);if(console.warn(n),V.includes(e))throw RangeError(n)}(s,t,String(e)),(0,A[s[0]])(a,s,n.localize,l)}).join("")}function q(e,t){return+x(e)>+x(t)}function G(e,t,i){let n=x(e,i?.in);return isNaN(t)?y(i?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function X(e,t,i){let n=x(e,i?.in);if(isNaN(t))return y(i?.in||e,NaN);if(!t)return n;let r=n.getDate(),s=y(i?.in||e,n.getTime());return(s.setMonth(n.getMonth()+t+1,0),r>=s.getDate())?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function K(e,t,i){return Math.min(i,Math.max(t,e))}function Q(e,t){let i,n;let r=()=>y(t?.in,NaN),s=t?.additionalDigits??2,a=function(e){let t;let i={},n=e.split(Z.dateTimeDelimiter);if(n.length>2)return i;if(/:/.test(n[0])?t=n[0]:(i.date=n[0],t=n[1],Z.timeZoneDelimiter.test(i.date)&&(i.date=e.split(Z.timeZoneDelimiter)[0],t=e.substr(i.date.length,e.length))),t){let e=Z.timezone.exec(t);e?(i.time=t.replace(e[1],""),i.timezone=e[1]):i.time=t}return i}(e);if(a.date){let e=function(e,t){let i=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(i);if(!n)return{year:NaN,restDateString:""};let r=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:null===s?r:100*s,restDateString:e.slice((n[1]||n[2]).length)}}(a.date,s);i=function(e,t){if(null===t)return new Date(NaN);let i=e.match(J);if(!i)return new Date(NaN);let n=!!i[4],r=ei(i[1]),s=ei(i[2])-1,a=ei(i[3]),o=ei(i[4]),l=ei(i[5])-1;if(n)return o>=1&&o<=53&&l>=0&&l<=6?function(e,t,i){let n=new Date(0);n.setUTCFullYear(e,0,4);let r=n.getUTCDay()||7;return n.setUTCDate(n.getUTCDate()+((t-1)*7+i+1-r)),n}(t,o,l):new Date(NaN);{let e=new Date(0);return s>=0&&s<=11&&a>=1&&a<=(er[s]||(es(t)?29:28))&&r>=1&&r<=(es(t)?366:365)?(e.setUTCFullYear(t,s,Math.max(r,a)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!i||isNaN(+i))return r();let o=+i,l=0;if(a.time&&isNaN(l=function(e){let t=e.match(ee);if(!t)return NaN;let i=en(t[1]),n=en(t[2]),r=en(t[3]);return(24===i?0===n&&0===r:r>=0&&r<60&&n>=0&&n<60&&i>=0&&i<25)?36e5*i+6e4*n+1e3*r:NaN}(a.time)))return r();if(a.timezone){if(isNaN(n=function(e){if("Z"===e)return 0;let t=e.match(et);if(!t)return 0;let i="+"===t[1]?-1:1,n=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return r>=0&&r<=59?i*(36e5*n+6e4*r):NaN}(a.timezone)))return r()}else{let e=new Date(o+l),i=x(0,t?.in);return i.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),i.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),i}return x(o+l+n,t?.in)}let Z={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},J=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ee=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,et=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ei(e){return e?parseInt(e):1}function en(e){return e&&parseFloat(e.replace(",","."))||0}let er=[31,null,31,30,31,30,31,31,30,31,30,31];function es(e){return e%400==0||e%4==0&&e%100!=0}function ea(e,t){let i=x(e,t?.in),n=i.getFullYear();return i.setFullYear(n+1,0,0),i.setHours(23,59,59,999),i}function eo(e,t){let i=x(e,t?.in);return i.setHours(23,59,59,999),i}function el(e,t,i){var n;let r=(+x(e)-+x(t))/1e3;return(n=i?.roundingMethod,e=>{let t=(n?Math[n]:Math.trunc)(e);return 0===t?0:t})(r)}function eu(e,t){return+x(e)<+x(t)}let ed={0:{label:"未记录",emoji:"◻︎",dotClass:"hidden"},1:{label:"很差",emoji:"\uD83D\uDE23",dotClass:"bg-rose-400"},2:{label:"偏差",emoji:"\uD83D\uDE15",dotClass:"bg-amber-400"},3:{label:"一般",emoji:"\uD83D\uDE10",dotClass:"bg-zinc-400"},4:{label:"不错",emoji:"\uD83D\uDE42",dotClass:"bg-cyan-400"},5:{label:"很好",emoji:"\uD83D\uDE04",dotClass:"bg-emerald-600"}},eh={0:`${ed[0].emoji} ${ed[0].label}`,1:`${ed[1].emoji} ${ed[1].label}`,2:`${ed[2].emoji} ${ed[2].label}`,3:`${ed[3].emoji} ${ed[3].label}`,4:`${ed[4].emoji} ${ed[4].label}`,5:`${ed[5].emoji} ${ed[5].label}`};function ec({selectedDay:e,selectedEntry:t,modalRef:i,onClose:n,onStateChange:r,onNoteChange:s,activeStateButtonClass:o,onDelete:l,justSaved:u}){let d=t?.note??"";return a.jsx("div",{className:"fixed inset-0 z-40 flex items-end justify-center bg-black/20 p-4 md:items-center",onMouseDown:e=>{e.target===e.currentTarget&&n()},children:(0,a.jsxs)("div",{ref:i,tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":`day-dialog-title-${e.isoDate}`,className:"w-full max-w-[520px] rounded-2xl border border-zinc-200/70 bg-white/90 p-4 shadow-[0_22px_70px_rgba(0,0,0,0.14)] backdrop-blur-xl outline-none",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{id:`day-dialog-title-${e.isoDate}`,className:"text-sm text-zinc-950",children:e.label}),a.jsx("div",{className:"mt-1 text-xs text-zinc-600",children:e.holiday?`节日：${e.holiday}`:" "}),(0,a.jsxs)("div",{className:"mt-1 text-xs text-zinc-600",children:["体感：",eh[t?.state??0]]})]}),a.jsx("div",{className:"min-h-[18px] text-xs font-medium text-emerald-600",children:u?"已保存":null})]}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{state:0,label:`${ed[0].emoji} ${ed[0].label}`},{state:1,label:`${ed[1].emoji} ${ed[1].label}`},{state:2,label:`${ed[2].emoji} ${ed[2].label}`},{state:3,label:`${ed[3].emoji} ${ed[3].label}`},{state:4,label:`${ed[4].emoji} ${ed[4].label}`},{state:5,label:`${ed[5].emoji} ${ed[5].label}`}].map(e=>{let i=(t?.state??0)===e.state;return a.jsx("button",{type:"button",className:`rounded-full border px-3 py-1 text-xs transition ${i?o(e.state):"border-zinc-200 bg-white/60 text-zinc-700 hover:bg-white"}`,onClick:()=>r(e.state),children:e.label},e.state)})}),a.jsx("div",{className:"mt-4",children:a.jsx("input",{type:"text",placeholder:"写点什么（可选，限 50 字）...",value:d,onChange:e=>s(e.target.value),className:"w-full rounded-xl border border-zinc-200/60 bg-white/50 px-3 py-2 text-xs text-zinc-900 placeholder-zinc-400 outline-none ring-zinc-900/5 transition focus:border-zinc-900/20 focus:bg-white focus:ring-4"})}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx("button",{type:"button",onClick:l,className:"text-xs text-rose-500 hover:text-rose-600 transition",children:"删除记录"})})]})})}function em({tooltip:e,tooltipRef:t,todayStart:i,entries:n}){let r=n[e.data.isoDate],s=r?.state??0,o=r?.note.trim();return(0,a.jsxs)("div",{ref:t,className:"pointer-events-none fixed z-50 w-max max-w-[80vw] rounded-xl border border-zinc-200/70 bg-white/80 px-3 py-2 text-xs text-zinc-900 shadow-[0_14px_40px_rgba(0,0,0,0.10)] backdrop-blur-xl",style:{left:e.x,top:e.y},children:[a.jsx("div",{className:"tabular-nums text-zinc-950",children:e.data.label}),a.jsx("div",{className:"mt-1 text-zinc-600",children:"past"===e.data.state?`已过去 ${Math.max(0,S(i,e.data.date))} 天`:"today"===e.data.state?"今天":`还剩 ${Math.max(0,S(e.data.date,i))} 天`}),(0,a.jsxs)("div",{className:"mt-1 text-zinc-600",children:["体感：",eh[s]]}),e.data.holiday?(0,a.jsxs)("div",{className:"text-xs font-medium text-zinc-500",children:["节日：",e.data.holiday]}):null,o?(0,a.jsxs)("div",{className:"text-xs font-medium text-zinc-500",children:["备注：",o.slice(0,24)]}):null]})}function ep({percent:e,percentText:t,timeRemainingText:i,elapsedDays:n,totalDays:r,viewMode:s,rangeStart:o,isCreatingRange:l,createRangePreview:u}){let d=l?u?.percent??0:e,h=l?u?`${Math.floor(u.percent).toString()}%`:"--":t,c=l?u?.remainingText??"--":i,m=l?u?.elapsedDays??"--":`${n} 天`,p=l?u?.totalDays??"--":`${r} 天`,f="year"===s?H(o,"yyyy年"):"month"===s?H(o,"M月"):"week"===s?"本周":"区间";return(0,a.jsxs)("div",{className:"flex flex-col items-start gap-6 sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("svg",{className:"h-32 w-32 -rotate-90",viewBox:"0 0 128 128",children:[a.jsx("defs",{children:(0,a.jsxs)("linearGradient",{id:"ygProgressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"rgb(5 150 105)"}),a.jsx("stop",{offset:"100%",stopColor:"rgb(14 116 144)"})]})}),a.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-zinc-200"}),a.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"url(#ygProgressGradient)",strokeWidth:"8",fill:"none",strokeLinecap:"round",className:"transition-all duration-1000",strokeDasharray:`${3.52*d} 352`})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsx("span",{className:"text-3xl font-bold text-zinc-900",children:h}),a.jsx("span",{className:"text-xs text-zinc-500",children:f})]})]}),(0,a.jsxs)("div",{className:"space-y-3 rounded-xl border border-zinc-200/60 bg-white p-4 shadow-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-zinc-500",children:"剩余时间"}),a.jsx("p",{className:"text-2xl font-semibold text-zinc-900 tabular-nums",children:c})]}),(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-zinc-500",children:"已过"}),a.jsx("p",{className:"text-lg font-medium text-emerald-600 tabular-nums",children:m})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-zinc-500",children:"总计"}),a.jsx("p",{className:"text-lg font-medium text-zinc-900 tabular-nums",children:p})]})]}),a.jsx("div",{className:"h-2 w-48 overflow-hidden rounded-full bg-zinc-100",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-1000",style:{width:`${d}%`,background:"linear-gradient(90deg, rgb(5 150 105), rgb(14 116 144))"}})})]})]})}function ef(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}let eg=e=>Array.isArray(e);function ey(e,t){if(!Array.isArray(t))return!1;let i=t.length;if(i!==e.length)return!1;for(let n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function ex(e){return"string"==typeof e||Array.isArray(e)}function ev(e){let t=[{},{}];return null==e||e.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function eb(e,t,i,n){if("function"==typeof t){let[r,s]=ev(n);t=t(void 0!==i?i:e.custom,r,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[r,s]=ev(n);t=t(void 0!==i?i:e.custom,r,s)}return t}function ew(e,t,i){let n=e.getProps();return eb(n,t,void 0!==i?i:n.custom,e)}let eS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eD=["initial",...eS];function eM(e){let t;return()=>(void 0===t&&(t=e()),t)}let ej=eM(()=>void 0!==window.ScrollTimeline);class ek{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){let i=this.animations.map(i=>ej()&&i.attachTimeline?i.attachTimeline(e):"function"==typeof t?t(i):void 0);return()=>{i.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class eT extends ek{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function eN(e,t){return e?e[t]||e.default||e:void 0}function eP(e){let t=0,i=e.next(t);for(;!i.done&&t<2e4;)t+=50,i=e.next(t);return t>=2e4?1/0:t}function eC(e){return"function"==typeof e}function eA(e,t){e.timeline=t,e.onfinish=null}let e_=e=>Array.isArray(e)&&"number"==typeof e[0],eE={linearEasing:void 0},ez=function(e,t){let i=eM(e);return()=>{var e;return null!==(e=eE[t])&&void 0!==e?e:i()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),eO=(e,t,i)=>{let n=t-e;return 0===n?1:(i-e)/n},eF=(e,t,i=10)=>{let n="",r=Math.max(Math.round(t/i),2);for(let t=0;t<r;t++)n+=e(eO(0,r-1,t))+", ";return`linear(${n.substring(0,n.length-2)})`},eR=([e,t,i,n])=>`cubic-bezier(${e}, ${t}, ${i}, ${n})`,eI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eR([0,.65,.55,1]),circOut:eR([.55,0,1,.45]),backIn:eR([.31,.01,.66,-.59]),backOut:eR([.33,1.53,.69,.99])},e$={x:!1,y:!1};function eV(e,t){let i=function(e,t,i){if(e instanceof Element)return[e];if("string"==typeof e){let t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),n=new AbortController;return[i,{passive:!0,...t,signal:n.signal},()=>n.abort()]}function eY(e){return t=>{"touch"===t.pointerType||e$.x||e$.y||e(t)}}let eL=(e,t)=>!!t&&(e===t||eL(e,t.parentElement)),eB=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,eW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),eU=new WeakSet;function eH(e){return t=>{"Enter"===t.key&&e(t)}}function eq(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let eG=(e,t)=>{let i=e.currentTarget;if(!i)return;let n=eH(()=>{if(eU.has(i))return;eq(i,"down");let e=eH(()=>{eq(i,"up")});i.addEventListener("keyup",e,t),i.addEventListener("blur",()=>eq(i,"cancel"),t)});i.addEventListener("keydown",n,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",n),t)};function eX(e){return eB(e)&&!(e$.x||e$.y)}let eK=e=>1e3*e,eQ=e=>e/1e3,eZ=e=>e,eJ=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],e0=new Set(eJ),e1=new Set(["width","height","top","left","right","bottom",...eJ]),e2=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),e5=e=>eg(e)?e[e.length-1]||0:e,e4={skipAnimations:!1,useManualTiming:!1},e6=["read","resolveKeyframes","update","preRender","render","postRender"];function e3(e,t){let i=!1,n=!0,r={delta:0,timestamp:0,isProcessing:!1},s=()=>i=!0,a=e6.reduce((e,t)=>(e[t]=function(e){let t=new Set,i=new Set,n=!1,r=!1,s=new WeakSet,a={delta:0,timestamp:0,isProcessing:!1};function o(t){s.has(t)&&(l.schedule(t),e()),t(a)}let l={schedule:(e,r=!1,a=!1)=>{let o=a&&n?t:i;return r&&s.add(e),o.has(e)||o.add(e),e},cancel:e=>{i.delete(e),s.delete(e)},process:e=>{if(a=e,n){r=!0;return}n=!0,[t,i]=[i,t],t.forEach(o),t.clear(),n=!1,r&&(r=!1,l.process(e))}};return l}(s),e),{}),{read:o,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:c}=a,m=()=>{let s=e4.useManualTiming?r.timestamp:performance.now();i=!1,r.delta=n?1e3/60:Math.max(Math.min(s-r.timestamp,40),1),r.timestamp=s,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),d.process(r),h.process(r),c.process(r),r.isProcessing=!1,i&&t&&(n=!1,e(m))},p=()=>{i=!0,n=!0,r.isProcessing||e(m)};return{schedule:e6.reduce((e,t)=>{let n=a[t];return e[t]=(e,t=!1,r=!1)=>(i||p(),n.schedule(e,t,r)),e},{}),cancel:e=>{for(let t=0;t<e6.length;t++)a[e6[t]].cancel(e)},state:r,steps:a}}let{schedule:e9,cancel:e8,state:e7,steps:te}=e3("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:eZ,!0);function tt(){n=void 0}let ti={now:()=>(void 0===n&&ti.set(e7.isProcessing||e4.useManualTiming?e7.timestamp:performance.now()),n),set:e=>{n=e,queueMicrotask(tt)}};function tn(e,t){-1===e.indexOf(t)&&e.push(t)}function tr(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}class ts{constructor(){this.subscriptions=[]}add(e){return tn(this.subscriptions,e),()=>tr(this.subscriptions,e)}notify(e,t,i){let n=this.subscriptions.length;if(n){if(1===n)this.subscriptions[0](e,t,i);else for(let r=0;r<n;r++){let n=this.subscriptions[r];n&&n(e,t,i)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let ta=e=>!isNaN(parseFloat(e)),to={current:void 0};class tl{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let i=ti.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ti.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=ta(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ts);let i=this.events[e].add(t);return"change"===e?()=>{i(),e9.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return to.current&&to.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=ti.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let i=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),i?1e3/i*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tu(e,t){return new tl(e,t)}let td=e=>!!(e&&e.getVelocity);function th(e,t){let i=e.getValue("willChange");if(td(i)&&i.add)return i.add(t)}let tc=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tm="data-"+tc("framerAppearId"),tp={current:!1},tf=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e;function tg(e,t,i,n){if(e===t&&i===n)return eZ;let r=t=>(function(e,t,i,n,r){let s,a;let o=0;do(s=tf(a=t+(i-t)/2,n,r)-e)>0?i=a:t=a;while(Math.abs(s)>1e-7&&++o<12);return a})(t,0,1,e,i);return e=>0===e||1===e?e:tf(r(e),t,n)}let ty=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tx=e=>t=>1-e(1-t),tv=tg(.33,1.53,.69,.99),tb=tx(tv),tw=ty(tb),tS=e=>(e*=2)<1?.5*tb(e):.5*(2-Math.pow(2,-10*(e-1))),tD=e=>1-Math.sin(Math.acos(e)),tM=tx(tD),tj=ty(tD),tk=e=>/^0[^.\s]+$/u.test(e),tT=(e,t,i)=>i>t?t:i<e?e:i,tN={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},tP={...tN,transform:e=>tT(0,1,e)},tC={...tN,default:1},tA=e=>Math.round(1e5*e)/1e5,t_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,tE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tz=(e,t)=>i=>!!("string"==typeof i&&tE.test(i)&&i.startsWith(e)||t&&null!=i&&Object.prototype.hasOwnProperty.call(i,t)),tO=(e,t,i)=>n=>{if("string"!=typeof n)return n;let[r,s,a,o]=n.match(t_);return{[e]:parseFloat(r),[t]:parseFloat(s),[i]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},tF=e=>tT(0,255,e),tR={...tN,transform:e=>Math.round(tF(e))},tI={test:tz("rgb","red"),parse:tO("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:n=1})=>"rgba("+tR.transform(e)+", "+tR.transform(t)+", "+tR.transform(i)+", "+tA(tP.transform(n))+")"},t$={test:tz("#"),parse:function(e){let t="",i="",n="",r="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),t+=t,i+=i,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}},transform:tI.transform},tV=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),tY=tV("deg"),tL=tV("%"),tB=tV("px"),tW=tV("vh"),tU=tV("vw"),tH={...tL,parse:e=>tL.parse(e)/100,transform:e=>tL.transform(100*e)},tq={test:tz("hsl","hue"),parse:tO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:n=1})=>"hsla("+Math.round(e)+", "+tL.transform(tA(t))+", "+tL.transform(tA(i))+", "+tA(tP.transform(n))+")"},tG={test:e=>tI.test(e)||t$.test(e)||tq.test(e),parse:e=>tI.test(e)?tI.parse(e):tq.test(e)?tq.parse(e):t$.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?tI.transform(e):tq.transform(e)},tX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,tK="number",tQ="color",tZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tJ(e){let t=e.toString(),i=[],n={color:[],number:[],var:[]},r=[],s=0,a=t.replace(tZ,e=>(tG.test(e)?(n.color.push(s),r.push(tQ),i.push(tG.parse(e))):e.startsWith("var(")?(n.var.push(s),r.push("var"),i.push(e)):(n.number.push(s),r.push(tK),i.push(parseFloat(e))),++s,"${}")).split("${}");return{values:i,split:a,indexes:n,types:r}}function t0(e){return tJ(e).values}function t1(e){let{split:t,types:i}=tJ(e),n=t.length;return e=>{let r="";for(let s=0;s<n;s++)if(r+=t[s],void 0!==e[s]){let t=i[s];t===tK?r+=tA(e[s]):t===tQ?r+=tG.transform(e[s]):r+=e[s]}return r}}let t2=e=>"number"==typeof e?0:e,t5={test:function(e){var t,i;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(t_))||void 0===t?void 0:t.length)||0)+((null===(i=e.match(tX))||void 0===i?void 0:i.length)||0)>0},parse:t0,createTransformer:t1,getAnimatableNone:function(e){let t=t0(e);return t1(e)(t.map(t2))}},t4=new Set(["brightness","contrast","saturate","opacity"]);function t6(e){let[t,i]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[n]=i.match(t_)||[];if(!n)return e;let r=i.replace(n,""),s=t4.has(t)?1:0;return n!==i&&(s*=100),t+"("+s+r+")"}let t3=/\b([a-z-]*)\(.*?\)/gu,t9={...t5,getAnimatableNone:e=>{let t=e.match(t3);return t?t.map(t6).join(" "):e}},t8={...tN,transform:Math.round},t7={borderWidth:tB,borderTopWidth:tB,borderRightWidth:tB,borderBottomWidth:tB,borderLeftWidth:tB,borderRadius:tB,radius:tB,borderTopLeftRadius:tB,borderTopRightRadius:tB,borderBottomRightRadius:tB,borderBottomLeftRadius:tB,width:tB,maxWidth:tB,height:tB,maxHeight:tB,top:tB,right:tB,bottom:tB,left:tB,padding:tB,paddingTop:tB,paddingRight:tB,paddingBottom:tB,paddingLeft:tB,margin:tB,marginTop:tB,marginRight:tB,marginBottom:tB,marginLeft:tB,backgroundPositionX:tB,backgroundPositionY:tB,rotate:tY,rotateX:tY,rotateY:tY,rotateZ:tY,scale:tC,scaleX:tC,scaleY:tC,scaleZ:tC,skew:tY,skewX:tY,skewY:tY,distance:tB,translateX:tB,translateY:tB,translateZ:tB,x:tB,y:tB,z:tB,perspective:tB,transformPerspective:tB,opacity:tP,originX:tH,originY:tH,originZ:tB,zIndex:t8,size:tB,fillOpacity:tP,strokeOpacity:tP,numOctaves:t8},ie={...t7,color:tG,backgroundColor:tG,outlineColor:tG,fill:tG,stroke:tG,borderColor:tG,borderTopColor:tG,borderRightColor:tG,borderBottomColor:tG,borderLeftColor:tG,filter:t9,WebkitFilter:t9},it=e=>ie[e];function ii(e,t){let i=it(e);return i!==t9&&(i=t5),i.getAnimatableNone?i.getAnimatableNone(t):void 0}let ir=new Set(["auto","none","0"]),is=e=>e===tN||e===tB,ia=(e,t)=>parseFloat(e.split(", ")[t]),io=(e,t)=>(i,{transform:n})=>{if("none"===n||!n)return 0;let r=n.match(/^matrix3d\((.+)\)$/u);if(r)return ia(r[1],t);{let t=n.match(/^matrix\((.+)\)$/u);return t?ia(t[1],e):0}},il=new Set(["x","y","z"]),iu=eJ.filter(e=>!il.has(e)),id={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:io(4,13),y:io(5,14)};id.translateX=id.x,id.translateY=id.y;let ih=new Set,ic=!1,im=!1;function ip(){if(im){let e=Array.from(ih).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),i=new Map;t.forEach(e=>{let t=function(e){let t=[];return iu.forEach(i=>{let n=e.getValue(i);void 0!==n&&(t.push([i,n.get()]),n.set(i.startsWith("scale")?1:0))}),t}(e);t.length&&(i.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=i.get(e);t&&t.forEach(([t,i])=>{var n;null===(n=e.getValue(t))||void 0===n||n.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}im=!1,ic=!1,ih.forEach(e=>e.complete()),ih.clear()}function ig(){ih.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(im=!0)})}class iy{constructor(e,t,i,n,r,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=n,this.element=r,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ih.add(this),ic||(ic=!0,e9.read(ig),e9.resolveKeyframes(ip))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:i,motionValue:n}=this;for(let r=0;r<e.length;r++)if(null===e[r]){if(0===r){let r=null==n?void 0:n.get(),s=e[e.length-1];if(void 0!==r)e[0]=r;else if(i&&t){let n=i.readValue(t,s);null!=n&&(e[0]=n)}void 0===e[0]&&(e[0]=s),n&&void 0===r&&n.set(e[0])}else e[r]=e[r-1]}}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ih.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ih.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let ix=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),iv=e=>t=>"string"==typeof t&&t.startsWith(e),ib=iv("--"),iw=iv("var(--"),iS=e=>!!iw(e)&&iD.test(e.split("/*")[0].trim()),iD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,ij=e=>t=>t.test(e),ik=[tN,tB,tL,tY,tU,tW,{test:e=>"auto"===e,parse:e=>e}],iT=e=>ik.find(ij(e));class iN extends iy{constructor(e,t,i,n,r){super(e,t,i,n,r,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let n=e[i];if("string"==typeof n&&iS(n=n.trim())){let r=function e(t,i,n=1){eZ(n<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[r,s]=function(e){let t=iM.exec(e);if(!t)return[,];let[,i,n,r]=t;return[`--${null!=i?i:n}`,r]}(t);if(!r)return;let a=window.getComputedStyle(i).getPropertyValue(r);if(a){let e=a.trim();return ix(e)?parseFloat(e):e}return iS(s)?e(s,i,n+1):s}(n,t.current);void 0!==r&&(e[i]=r),i===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!e1.has(i)||2!==e.length)return;let[n,r]=e,s=iT(n),a=iT(r);if(s!==a){if(is(s)&&is(a))for(let t=0;t<e.length;t++){let i=e[t];"string"==typeof i&&(e[t]=parseFloat(i))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,i=[];for(let t=0;t<e.length;t++){var n;("number"==typeof(n=e[t])?0===n:null===n||"none"===n||"0"===n||tk(n))&&i.push(t)}i.length&&function(e,t,i){let n,r=0;for(;r<e.length&&!n;){let t=e[r];"string"==typeof t&&!ir.has(t)&&tJ(t).values.length&&(n=e[r]),r++}if(n&&i)for(let r of t)e[r]=ii(i,n)}(e,i,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=id[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let n=t[t.length-1];void 0!==n&&e.getValue(i,n).jump(n,!1)}measureEndState(){var e;let{element:t,name:i,unresolvedKeyframes:n}=this;if(!t||!t.current)return;let r=t.getValue(i);r&&r.jump(this.measuredOrigin,!1);let s=n.length-1,a=n[s];n[s]=id[i](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,i])=>{t.getValue(e).set(i)}),this.resolveNoneKeyframes()}}let iP=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(t5.test(e)||"0"===e)&&!e.startsWith("url(")),iC=e=>null!==e;function iA(e,{repeat:t,repeatType:i="loop"},n){let r=e.filter(iC),s=t&&"loop"!==i&&t%2==1?0:r.length-1;return s&&void 0!==n?n:r[s]}class i_{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ti.now(),this.options={autoplay:e,delay:t,type:i,repeat:n,repeatDelay:r,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(ig(),ip()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ti.now(),this.hasAttemptedResolve=!0;let{name:i,type:n,velocity:r,delay:s,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!function(e,t,i,n){let r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;let s=e[e.length-1],a=iP(r,t),o=iP(s,t);return eZ(a===o,`You are trying to animate ${t} from "${r}" to "${s}". ${r} is not an animatable value - to enable this animation set ${r} to a value animatable to ${s} via the \`style\` property.`),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}(e)||("spring"===i||eC(i))&&n)}(e,i,n,r)){if(tp.current||!s){o&&o(iA(e,this.options,t)),a&&a(),this.resolveFinishedPromise();return}this.options.duration=0}let u=this.initPlayback(e,t);!1!==u&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}let iE=(e,t,i)=>e+(t-e)*i;function iz(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function iO(e,t){return i=>i>0?t:e}let iF=(e,t,i)=>{let n=e*e,r=i*(t*t-n)+n;return r<0?0:Math.sqrt(r)},iR=[t$,tI,tq],iI=e=>iR.find(t=>t.test(e));function i$(e){let t=iI(e);if(eZ(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let i=t.parse(e);return t===tq&&(i=function({hue:e,saturation:t,lightness:i,alpha:n}){e/=360,i/=100;let r=0,s=0,a=0;if(t/=100){let n=i<.5?i*(1+t):i+t-i*t,o=2*i-n;r=iz(o,n,e+1/3),s=iz(o,n,e),a=iz(o,n,e-1/3)}else r=s=a=i;return{red:Math.round(255*r),green:Math.round(255*s),blue:Math.round(255*a),alpha:n}}(i)),i}let iV=(e,t)=>{let i=i$(e),n=i$(t);if(!i||!n)return iO(e,t);let r={...i};return e=>(r.red=iF(i.red,n.red,e),r.green=iF(i.green,n.green,e),r.blue=iF(i.blue,n.blue,e),r.alpha=iE(i.alpha,n.alpha,e),tI.transform(r))},iY=(e,t)=>i=>t(e(i)),iL=(...e)=>e.reduce(iY),iB=new Set(["none","hidden"]);function iW(e,t){return i=>iE(e,t,i)}function iU(e){return"number"==typeof e?iW:"string"==typeof e?iS(e)?iO:tG.test(e)?iV:iG:Array.isArray(e)?iH:"object"==typeof e?tG.test(e)?iV:iq:iO}function iH(e,t){let i=[...e],n=i.length,r=e.map((e,i)=>iU(e)(e,t[i]));return e=>{for(let t=0;t<n;t++)i[t]=r[t](e);return i}}function iq(e,t){let i={...e,...t},n={};for(let r in i)void 0!==e[r]&&void 0!==t[r]&&(n[r]=iU(e[r])(e[r],t[r]));return e=>{for(let t in n)i[t]=n[t](e);return i}}let iG=(e,t)=>{let i=t5.createTransformer(t),n=tJ(e),r=tJ(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?iB.has(e)&&!r.values.length||iB.has(t)&&!n.values.length?function(e,t){return iB.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}(e,t):iL(iH(function(e,t){var i;let n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let a=t.types[s],o=e.indexes[a][r[a]],l=null!==(i=e.values[o])&&void 0!==i?i:0;n[s]=l,r[a]++}return n}(n,r),r.values),i):(eZ(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),iO(e,t))};function iX(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i?iE(e,t,i):iU(e)(e,t)}function iK(e,t,i){var n,r;let s=Math.max(t-5,0);return n=i-e(s),(r=t-s)?1e3/r*n:0}let iQ={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function iZ(e,t){return e*Math.sqrt(1-t*t)}let iJ=["duration","bounce"],i0=["stiffness","damping","mass"];function i1(e,t){return t.some(t=>void 0!==e[t])}function i2(e=iQ.visualDuration,t=iQ.bounce){let i;let n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:s}=n,a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:d,mass:h,duration:c,velocity:m,isResolvedFromDuration:p}=function(e){let t={velocity:iQ.velocity,stiffness:iQ.stiffness,damping:iQ.damping,mass:iQ.mass,isResolvedFromDuration:!1,...e};if(!i1(e,i0)&&i1(e,iJ)){if(e.visualDuration){let i=2*Math.PI/(1.2*e.visualDuration),n=i*i,r=2*tT(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:iQ.mass,stiffness:n,damping:r}}else{let i=function({duration:e=iQ.duration,bounce:t=iQ.bounce,velocity:i=iQ.velocity,mass:n=iQ.mass}){let r,s;eZ(e<=eK(iQ.maxDuration),"Spring duration must be 10 seconds or less");let a=1-t;a=tT(iQ.minDamping,iQ.maxDamping,a),e=tT(iQ.minDuration,iQ.maxDuration,eQ(e)),a<1?(r=t=>{let n=t*a,r=n*e;return .001-(n-i)/iZ(t,a)*Math.exp(-r)},s=t=>{let n=t*a*e,s=Math.pow(a,2)*Math.pow(t,2)*e,o=iZ(Math.pow(t,2),a);return(n*i+i-s)*Math.exp(-n)*(-r(t)+.001>0?-1:1)/o}):(r=t=>-.001+Math.exp(-t*e)*((t-i)*e+1),s=t=>e*e*(i-t)*Math.exp(-t*e));let o=function(e,t,i){let n=i;for(let i=1;i<12;i++)n-=e(n)/t(n);return n}(r,s,5/e);if(e=eK(e),isNaN(o))return{stiffness:iQ.stiffness,damping:iQ.damping,duration:e};{let t=Math.pow(o,2)*n;return{stiffness:t,damping:2*a*Math.sqrt(n*t),duration:e}}}(e);(t={...t,...i,mass:iQ.mass}).isResolvedFromDuration=!0}}return t}({...n,velocity:-eQ(n.velocity||0)}),f=m||0,g=d/(2*Math.sqrt(u*h)),y=o-a,x=eQ(Math.sqrt(u/h)),v=5>Math.abs(y);if(r||(r=v?iQ.restSpeed.granular:iQ.restSpeed.default),s||(s=v?iQ.restDelta.granular:iQ.restDelta.default),g<1){let e=iZ(x,g);i=t=>o-Math.exp(-g*x*t)*((f+g*x*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===g)i=e=>o-Math.exp(-x*e)*(y+(f+x*y)*e);else{let e=x*Math.sqrt(g*g-1);i=t=>{let i=Math.exp(-g*x*t),n=Math.min(e*t,300);return o-i*((f+g*x*y)*Math.sinh(n)+e*y*Math.cosh(n))/e}}let b={calculatedDuration:p&&c||null,next:e=>{let t=i(e);if(p)l.done=e>=c;else{let n=0;g<1&&(n=0===e?eK(f):iK(i,e,t));let a=Math.abs(n)<=r,u=Math.abs(o-t)<=s;l.done=a&&u}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(eP(b),2e4),t=eF(t=>b.next(e*t).value,e,30);return e+"ms "+t}};return b}function i5({keyframes:e,velocity:t=0,power:i=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){let h,c;let m=e[0],p={done:!1,value:m},f=e=>void 0!==o&&e<o||void 0!==l&&e>l,g=e=>void 0===o?l:void 0===l?o:Math.abs(o-e)<Math.abs(l-e)?o:l,y=i*t,x=m+y,v=void 0===a?x:a(x);v!==x&&(y=v-m);let b=e=>-y*Math.exp(-e/n),w=e=>v+b(e),S=e=>{let t=b(e),i=w(e);p.done=Math.abs(t)<=u,p.value=p.done?v:i},D=e=>{f(p.value)&&(h=e,c=i2({keyframes:[p.value,g(p.value)],velocity:iK(w,e,p.value),damping:r,stiffness:s,restDelta:u,restSpeed:d}))};return D(0),{calculatedDuration:null,next:e=>{let t=!1;return(c||void 0!==h||(t=!0,S(e),D(e)),void 0!==h&&e>=h)?c.next(e-h):(t||S(e),p)}}}let i4=tg(.42,0,1,1),i6=tg(0,0,.58,1),i3=tg(.42,0,.58,1),i9=e=>Array.isArray(e)&&"number"!=typeof e[0],i8={linear:eZ,easeIn:i4,easeInOut:i3,easeOut:i6,circIn:tD,circInOut:tj,circOut:tM,backIn:tb,backInOut:tw,backOut:tv,anticipate:tS},i7=e=>{if(e_(e)){eZ(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,i,n,r]=e;return tg(t,i,n,r)}return"string"==typeof e?(eZ(void 0!==i8[e],`Invalid easing type '${e}'`),i8[e]):e};function ne({duration:e=300,keyframes:t,times:i,ease:n="easeInOut"}){let r=i9(n)?n.map(i7):i7(n),s={done:!1,value:t[0]},a=function(e,t,{clamp:i=!0,ease:n,mixer:r}={}){let s=e.length;if(eZ(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,i){let n=[],r=i||iX,s=e.length-1;for(let i=0;i<s;i++){let s=r(e[i],e[i+1]);t&&(s=iL(Array.isArray(t)?t[i]||eZ:t,s)),n.push(s)}return n}(t,n,r),l=o.length,u=i=>{if(a&&i<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(i<e[n+1]);n++);let r=eO(e[n],e[n+1],i);return o[n](r)};return i?t=>u(tT(e[0],e[s-1],t)):u}((i&&i.length===t.length?i:function(e){let t=[0];return function(e,t){let i=e[e.length-1];for(let n=1;n<=t;n++){let r=eO(0,t,n);e.push(iE(i,1,r))}}(t,e.length-1),t}(t)).map(t=>t*e),t,{ease:Array.isArray(r)?r:t.map(()=>r||i3).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(s.value=a(t),s.done=t>=e,s)}}let nt=e=>{let t=({timestamp:t})=>e(t);return{start:()=>e9.update(t,!0),stop:()=>e8(t),now:()=>e7.isProcessing?e7.timestamp:ti.now()}},ni={decay:i5,inertia:i5,tween:ne,keyframes:ne,spring:i2},nn=e=>e/100;class nr extends i_{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:e}=this.options;e&&e()};let{name:t,motionValue:i,element:n,keyframes:r}=this.options,s=(null==n?void 0:n.KeyframeResolver)||iy;this.resolver=new s(r,(e,t)=>this.onKeyframesResolved(e,t),t,i,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){let t,i;let{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=eC(n)?n:ni[n]||ne;l!==ne&&"number"!=typeof e[0]&&(t=iL(nn,iX(e[0],e[1])),e=[0,100]);let u=l({...this.options,keyframes:e});"mirror"===a&&(i=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),null===u.calculatedDuration&&(u.calculatedDuration=eP(u));let{calculatedDuration:d}=u,h=d+s;return{generator:u,mirroredGenerator:i,mapPercentToKeyframes:t,calculatedDuration:d,resolvedDuration:h,totalDuration:h*(r+1)-s}}onPostResolved(){let{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){let{resolved:i}=this;if(!i){let{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}let{finalKeyframe:n,generator:r,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:u,resolvedDuration:d}=i;if(null===this.startTime)return r.next(0);let{delay:h,repeat:c,repeatType:m,repeatDelay:p,onUpdate:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;let g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let x=this.currentTime,v=r;if(c){let e=Math.min(this.currentTime,u)/d,t=Math.floor(e),i=e%1;!i&&e>=1&&(i=1),1===i&&t--,(t=Math.min(t,c+1))%2&&("reverse"===m?(i=1-i,p&&(i-=p/d)):"mirror"===m&&(v=s)),x=tT(0,1,i)*d}let b=y?{done:!1,value:o[0]}:v.next(x);a&&(b.value=a(b.value));let{done:w}=b;y||null===l||(w=this.speed>=0?this.currentTime>=u:this.currentTime<=0);let S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return S&&void 0!==n&&(b.value=iA(o,this.options,n)),f&&f(b.value),S&&this.finish(),b}get duration(){let{resolved:e}=this;return e?eQ(e.calculatedDuration):0}get time(){return eQ(this.currentTime)}set time(e){e=eK(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=eQ(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:e=nt,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();let n=this.driver.now();null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=n):this.startTime=null!=i?i:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}let ns=new Set(["opacity","clipPath","filter","transform"]),na=eM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),no={anticipate:tS,backInOut:tw,circInOut:tj};class nl extends i_{constructor(e){super(e);let{name:t,motionValue:i,element:n,keyframes:r}=this.options;this.resolver=new iN(r,(e,t)=>this.onKeyframesResolved(e,t),t,i,n),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:n=300,times:r,ease:s,type:a,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if("string"==typeof s&&ez()&&s in no&&(s=no[s]),eC((i=this.options).type)||"spring"===i.type||!function e(t){return!!("function"==typeof t&&ez()||!t||"string"==typeof t&&(t in eI||ez())||e_(t)||Array.isArray(t)&&t.every(e))}(i.ease)){let{onComplete:t,onUpdate:i,motionValue:o,element:l,...u}=this.options,d=function(e,t){let i=new nr({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),n={done:!1,value:e[0]},r=[],s=0;for(;!n.done&&s<2e4;)r.push((n=i.sample(s)).value),s+=10;return{times:void 0,keyframes:r,duration:s-10,ease:"linear"}}(e,u);1===(e=d.keyframes).length&&(e[1]=e[0]),n=d.duration,r=d.times,s=d.ease,a="keyframes"}let d=function(e,t,i,{delay:n=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){let u={[t]:i};l&&(u.offset=l);let d=function e(t,i){if(t)return"function"==typeof t&&ez()?eF(t,i):e_(t)?eR(t):Array.isArray(t)?t.map(t=>e(t,i)||eI.easeOut):eI[t]}(o,r);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(o.owner.current,l,e,{...this.options,duration:n,times:r,ease:s});return d.startTime=null!=u?u:this.calcStartTime(),this.pendingTimeline?(eA(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{let{onComplete:i}=this.options;o.set(iA(e,this.options,t)),i&&i(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:r,type:a,ease:s,keyframes:e}}get duration(){let{resolved:e}=this;if(!e)return 0;let{duration:t}=e;return eQ(t)}get time(){let{resolved:e}=this;if(!e)return 0;let{animation:t}=e;return eQ(t.currentTime||0)}set time(e){let{resolved:t}=this;if(!t)return;let{animation:i}=t;i.currentTime=eK(e)}get speed(){let{resolved:e}=this;if(!e)return 1;let{animation:t}=e;return t.playbackRate}set speed(e){let{resolved:t}=this;if(!t)return;let{animation:i}=t;i.playbackRate=e}get state(){let{resolved:e}=this;if(!e)return"idle";let{animation:t}=e;return t.playState}get startTime(){let{resolved:e}=this;if(!e)return null;let{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){let{resolved:t}=this;if(!t)return eZ;let{animation:i}=t;eA(i,e)}else this.pendingTimeline=e;return eZ}play(){if(this.isStopped)return;let{resolved:e}=this;if(!e)return;let{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){let{resolved:e}=this;if(!e)return;let{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:e}=this;if(!e)return;let{animation:t,keyframes:i,duration:n,type:r,ease:s,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){let{motionValue:e,onUpdate:t,onComplete:o,element:l,...u}=this.options,d=new nr({...u,keyframes:i,duration:n,type:r,ease:s,times:a,isGenerator:!0}),h=eK(this.time);e.setWithVelocity(d.sample(h-10).value,d.sample(h).value,10)}let{onStop:o}=this.options;o&&o(),this.cancel()}complete(){let{resolved:e}=this;e&&e.animation.finish()}cancel(){let{resolved:e}=this;e&&e.animation.cancel()}static supports(e){let{motionValue:t,name:i,repeatDelay:n,repeatType:r,damping:s,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return na()&&i&&ns.has(i)&&!o&&!l&&!n&&"mirror"!==r&&0!==s&&"inertia"!==a}}let nu={type:"spring",stiffness:500,damping:25,restSpeed:10},nd=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),nh={type:"keyframes",duration:.8},nc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nm=(e,{keyframes:t})=>t.length>2?nh:e0.has(e)?e.startsWith("scale")?nd(t[1]):nu:nc,np=(e,t,i,n={},r,s)=>a=>{let o=eN(n,e)||{},l=o.delay||n.delay||0,{elapsed:u=0}=n;u-=eK(l);let d={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:r};!function({when:e,delay:t,delayChildren:i,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}(o)&&(d={...d,...nm(e,d)}),d.duration&&(d.duration=eK(d.duration)),d.repeatDelay&&(d.repeatDelay=eK(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let h=!1;if(!1!==d.type&&(0!==d.duration||d.repeatDelay)||(d.duration=0,0!==d.delay||(h=!0)),(tp.current||e4.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),h&&!s&&void 0!==t.get()){let e=iA(d.keyframes,o);if(void 0!==e)return e9.update(()=>{d.onUpdate(e),d.onComplete()}),new eT([])}return!s&&nl.supports(d)?new nl(d):new nr(d)};function nf(e,t,{delay:i=0,transitionOverride:n,type:r}={}){var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(a=n);let u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(let t in l){let n=e.getValue(t,null!==(s=e.latestValues[t])&&void 0!==s?s:null),r=l[t];if(void 0===r||d&&function({protectedKeys:e,needsAnimating:t},i){let n=e.hasOwnProperty(i)&&!0!==t[i];return t[i]=!1,n}(d,t))continue;let o={delay:i,...eN(a||{},t)},h=!1;if(window.MotionHandoffAnimation){let i=e.props[tm];if(i){let e=window.MotionHandoffAnimation(i,t,e9);null!==e&&(o.startTime=e,h=!0)}}th(e,t),n.start(np(t,n,r,e.shouldReduceMotion&&e1.has(t)?{type:!1}:o,e,h));let c=n.animation;c&&u.push(c)}return o&&Promise.all(u).then(()=>{e9.update(()=>{o&&function(e,t){let{transitionEnd:i={},transition:n={},...r}=ew(e,t)||{};for(let t in r={...r,...i}){let i=e5(r[t]);e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,tu(i))}}(e,o)})}),u}function ng(e,t,i={}){var n;let r=ew(e,t,"exit"===i.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(s=i.transitionOverride);let a=r?()=>Promise.all(nf(e,r,i)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(n=0)=>{let{delayChildren:r=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,i=0,n=0,r=1,s){let a=[],o=(e.variantChildren.size-1)*n,l=1===r?(e=0)=>e*n:(e=0)=>o-e*n;return Array.from(e.variantChildren).sort(ny).forEach((e,n)=>{e.notify("AnimationStart",t),a.push(ng(e,t,{...s,delay:i+l(n)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,r+n,a,o,i)}:()=>Promise.resolve(),{when:l}=s;if(!l)return Promise.all([a(),o(i.delay)]);{let[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}}function ny(e,t){return e.sortNodePosition(t)}let nx=eD.length,nv=[...eS].reverse(),nb=eS.length;function nw(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nS(){return{animate:nw(!0),whileInView:nw(),whileHover:nw(),whileTap:nw(),whileDrag:nw(),whileFocus:nw(),exit:nw()}}class nD{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nM extends nD{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:i})=>(function(e,t,i={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t))n=Promise.all(t.map(t=>ng(e,t,i)));else if("string"==typeof t)n=ng(e,t,i);else{let r="function"==typeof t?ew(e,t,i.custom):t;n=Promise.all(nf(e,r,i))}return n.then(()=>{e.notify("AnimationComplete",t)})})(e,t,i))),i=nS(),n=!0,r=t=>(i,n)=>{var r;let s=ew(e,n,"exit"===t?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);if(s){let{transition:e,transitionEnd:t,...n}=s;i={...i,...n,...t}}return i};function s(s){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let i=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(i.initial=t.props.initial),i}let i={};for(let e=0;e<nx;e++){let n=eD[e],r=t.props[n];(ex(r)||!1===r)&&(i[n]=r)}return i}(e.parent)||{},l=[],u=new Set,d={},h=1/0;for(let t=0;t<nb;t++){var c;let m=nv[t],p=i[m],f=void 0!==a[m]?a[m]:o[m],g=ex(f),y=m===s?p.isActive:null;!1===y&&(h=t);let x=f===o[m]&&f!==a[m]&&g;if(x&&n&&e.manuallyAnimateOnMount&&(x=!1),p.protectedKeys={...d},!p.isActive&&null===y||!f&&!p.prevProp||ef(f)||"boolean"==typeof f)continue;let v=(c=p.prevProp,"string"==typeof f?f!==c:!!Array.isArray(f)&&!ey(f,c)),b=v||m===s&&p.isActive&&!x&&g||t>h&&g,w=!1,S=Array.isArray(f)?f:[f],D=S.reduce(r(m),{});!1===y&&(D={});let{prevResolvedValues:M={}}=p,j={...M,...D},k=t=>{b=!0,u.has(t)&&(w=!0,u.delete(t)),p.needsAnimating[t]=!0;let i=e.getValue(t);i&&(i.liveStyle=!1)};for(let e in j){let t=D[e],i=M[e];if(!d.hasOwnProperty(e))(eg(t)&&eg(i)?ey(t,i):t===i)?void 0!==t&&u.has(e)?k(e):p.protectedKeys[e]=!0:null!=t?k(e):u.add(e)}p.prevProp=f,p.prevResolvedValues=D,p.isActive&&(d={...d,...D}),n&&e.blockInitialAnimation&&(b=!1);let T=!(x&&v)||w;b&&T&&l.push(...S.map(e=>({animation:e,options:{type:m}})))}if(u.size){let t={};u.forEach(i=>{let n=e.getBaseTarget(i),r=e.getValue(i);r&&(r.liveStyle=!0),t[i]=null!=n?n:null}),l.push({animation:t})}let m=!!l.length;return n&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,n){var r;if(i[t].isActive===n)return Promise.resolve();null===(r=e.variantChildren)||void 0===r||r.forEach(e=>{var i;return null===(i=e.animationState)||void 0===i?void 0:i.setActive(t,n)}),i[t].isActive=n;let a=s(t);for(let e in i)i[e].protectedKeys={};return a},setAnimateFunction:function(i){t=i(e)},getState:()=>i,reset:()=>{i=nS(),n=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();ef(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}let nj=0;class nk extends nD{constructor(){super(...arguments),this.id=nj++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;let n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>t(this.id))}mount(){let{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}function nT(e,t,i,n={passive:!0}){return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i)}function nN(e){return{point:{x:e.pageX,y:e.pageY}}}let nP=e=>t=>eB(t)&&e(t,nN(t));function nC(e,t,i,n){return nT(e,t,nP(i),n)}let nA=(e,t)=>Math.abs(e-t);class n_{constructor(e,t,{transformPagePoint:i,contextWindow:n,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=nO(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,i=function(e,t){return Math.sqrt(nA(e.x,t.x)**2+nA(e.y,t.y)**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!i)return;let{point:n}=e,{timestamp:r}=e7;this.history.push({...n,timestamp:r});let{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=nE(t,this.transformPagePoint),e9.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:i,onSessionEnd:n,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=nO("pointercancel"===e.type?this.lastMoveEventInfo:nE(t,this.transformPagePoint),this.history);this.startEvent&&i&&i(e,s),n&&n(e,s)},!eB(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.contextWindow=n||window;let s=nE(nN(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=e7;this.history=[{...a,timestamp:o}];let{onSessionStart:l}=t;l&&l(e,nO(s,this.history)),this.removeListeners=iL(nC(this.contextWindow,"pointermove",this.handlePointerMove),nC(this.contextWindow,"pointerup",this.handlePointerUp),nC(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),e8(this.updatePoint)}}function nE(e,t){return t?{point:t(e.point)}:e}function nz(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nO({point:e},t){return{point:e,delta:nz(e,nF(t)),offset:nz(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,n=null,r=nF(e);for(;i>=0&&(n=e[i],!(r.timestamp-n.timestamp>eK(.1)));)i--;if(!n)return{x:0,y:0};let s=eQ(r.timestamp-n.timestamp);if(0===s)return{x:0,y:0};let a={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,0)}}function nF(e){return e[e.length-1]}function nR(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function nI(e){return e.max-e.min}function n$(e,t,i,n=.5){e.origin=n,e.originPoint=iE(t.min,t.max,e.origin),e.scale=nI(i)/nI(t),e.translate=iE(i.min,i.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function nV(e,t,i,n){n$(e.x,t.x,i.x,n?n.originX:void 0),n$(e.y,t.y,i.y,n?n.originY:void 0)}function nY(e,t,i){e.min=i.min+t.min,e.max=e.min+nI(t)}function nL(e,t,i){e.min=t.min-i.min,e.max=e.min+nI(t)}function nB(e,t,i){nL(e.x,t.x,i.x),nL(e.y,t.y,i.y)}function nW(e,t,i){return{min:void 0!==t?e.min+t:void 0,max:void 0!==i?e.max+i-(e.max-e.min):void 0}}function nU(e,t){let i=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,n]=[n,i]),{min:i,max:n}}function nH(e,t,i){return{min:nq(e,t),max:nq(e,i)}}function nq(e,t){return"number"==typeof e?e:e[t]||0}let nG=()=>({translate:0,scale:1,origin:0,originPoint:0}),nX=()=>({x:nG(),y:nG()}),nK=()=>({min:0,max:0}),nQ=()=>({x:nK(),y:nK()});function nZ(e){return[e("x"),e("y")]}function nJ({top:e,left:t,right:i,bottom:n}){return{x:{min:t,max:i},y:{min:e,max:n}}}function n0(e){return void 0===e||1===e}function n1({scale:e,scaleX:t,scaleY:i}){return!n0(e)||!n0(t)||!n0(i)}function n2(e){return n1(e)||n5(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function n5(e){var t,i;return(t=e.x)&&"0%"!==t||(i=e.y)&&"0%"!==i}function n4(e,t,i,n,r){return void 0!==r&&(e=n+r*(e-n)),n+i*(e-n)+t}function n6(e,t=0,i=1,n,r){e.min=n4(e.min,t,i,n,r),e.max=n4(e.max,t,i,n,r)}function n3(e,{x:t,y:i}){n6(e.x,t.translate,t.scale,t.originPoint),n6(e.y,i.translate,i.scale,i.originPoint)}function n9(e,t){e.min=e.min+t,e.max=e.max+t}function n8(e,t,i,n,r=.5){let s=iE(e.min,e.max,r);n6(e,t,i,s,n)}function n7(e,t){n8(e.x,t.x,t.scaleX,t.scale,t.originX),n8(e.y,t.y,t.scaleY,t.scale,t.originY)}function re(e,t){return nJ(function(e,t){if(!t)return e;let i=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}let rt=({current:e})=>e?e.ownerDocument.defaultView:null,ri=new WeakMap;class rn{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nQ(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let{dragSnapToOrigin:n}=this.getProps();this.panSession=new n_(e,{onSessionStart:e=>{let{dragSnapToOrigin:i}=this.getProps();i?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(nN(e).point)},onStart:(e,t)=>{let{drag:i,dragPropagation:n,onDragStart:r}=this.getProps();if(i&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===i||"y"===i?e$[i]?null:(e$[i]=!0,()=>{e$[i]=!1}):e$.x||e$.y?null:(e$.x=e$.y=!0,()=>{e$.x=e$.y=!1}),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nZ(e=>{let t=this.getAxisMotionValue(e).get()||0;if(tL.test(t)){let{projection:i}=this.visualElement;if(i&&i.layout){let n=i.layout.layoutBox[e];if(n){let e=nI(n);t=parseFloat(t)/100*e}}}this.originPoint[e]=t}),r&&e9.postRender(()=>r(e,t)),th(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:i,dragDirectionLock:n,onDirectionLock:r,onDrag:s}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:a}=t;if(n&&null===this.currentDirection){this.currentDirection=function(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}(a),null!==this.currentDirection&&r&&r(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>nZ(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n,contextWindow:rt(this.visualElement)})}stop(e,t){let i=this.isDragging;if(this.cancel(),!i)return;let{velocity:n}=t;this.startAnimation(n);let{onDragEnd:r}=this.getProps();r&&e9.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){let{drag:n}=this.getProps();if(!i||!rr(e,n,this.currentDirection))return;let r=this.getAxisMotionValue(e),s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:i},n){return void 0!==t&&e<t?e=n?iE(t,e,n.min):Math.max(e,t):void 0!==i&&e>i&&(e=n?iE(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),r.set(s)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:i}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,r=this.constraints;t&&nR(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=function(e,{top:t,left:i,bottom:n,right:r}){return{x:nW(e.x,i,r),y:nW(e.y,t,n)}}(n.layoutBox,t):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:nH(e,"left","right"),y:nH(e,"top","bottom")}}(i),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&nZ(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let i={};return void 0!==t.min&&(i.min=t.min-e.min),void 0!==t.max&&(i.max=t.max-e.min),i}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!nR(t))return!1;let n=t.current;eZ(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let s=function(e,t,i){let n=re(e,i),{scroll:r}=t;return r&&(n9(n.x,r.offset.x),n9(n.y,r.offset.y)),n}(n,r.root,this.visualElement.getTransformPagePoint()),a={x:nU((e=r.layout.layoutBox).x,s.x),y:nU(e.y,s.y)};if(i){let e=i(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=nJ(e))}return a}startAnimation(e){let{drag:t,dragMomentum:i,dragElastic:n,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(nZ(a=>{if(!rr(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:i?e[a]:0,bounceStiffness:n?200:1e6,bounceDamping:n?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(e,t){let i=this.getAxisMotionValue(e);return th(this.visualElement,e),i.start(np(e,i,0,t,this.visualElement,!1))}stopAnimation(){nZ(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nZ(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){nZ(t=>{let{drag:i}=this.getProps();if(!rr(t,i,this.currentDirection))return;let{projection:n}=this.visualElement,r=this.getAxisMotionValue(t);if(n&&n.layout){let{min:i,max:s}=n.layout.layoutBox[t];r.set(e[t]-iE(i,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!nR(t)||!i||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};nZ(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let i=t.get();n[e]=function(e,t){let i=.5,n=nI(e),r=nI(t);return r>n?i=eO(t.min,t.max-n,e.min):n>r&&(i=eO(e.min,e.max-r,t.min)),tT(0,1,i)}({min:i,max:i},this.constraints[e])}});let{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),nZ(t=>{if(!rr(t,e,null))return;let i=this.getAxisMotionValue(t),{min:r,max:s}=this.constraints[t];i.set(iE(r,s,n[t]))})}addListeners(){if(!this.visualElement.current)return;ri.set(this.visualElement,this);let e=nC(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:i=!0}=this.getProps();t&&i&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();nR(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,n=i.addEventListener("measure",t);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),e9.read(t);let r=nT(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(nZ(t=>{let i=this.getAxisMotionValue(t);i&&(this.originPoint[t]+=e[t].translate,i.set(i.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),e(),n(),s&&s()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:n=!1,dragConstraints:r=!1,dragElastic:s=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:n,dragConstraints:r,dragElastic:s,dragMomentum:a}}}function rr(e,t,i){return(!0===t||t===e)&&(null===i||i===e)}class rs extends nD{constructor(e){super(e),this.removeGroupControls=eZ,this.removeListeners=eZ,this.controls=new rn(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eZ}unmount(){this.removeGroupControls(),this.removeListeners()}}let ra=e=>(t,i)=>{e&&e9.postRender(()=>e(t,i))};class ro extends nD{constructor(){super(...arguments),this.removePointerDownListener=eZ}onPointerDown(e){this.session=new n_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rt(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:n}=this.node.getProps();return{onSessionStart:ra(e),onStart:ra(t),onMove:i,onEnd:(e,t)=>{delete this.session,n&&e9.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=nC(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let rl=(0,o.createContext)(null),ru=(0,o.createContext)({}),rd=(0,o.createContext)({}),rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let rm={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!tB.test(e))return e;e=parseFloat(e)}let i=rc(e,t.target.x),n=rc(e,t.target.y);return`${i}% ${n}%`}},rp={},{schedule:rf,cancel:rg}=e3(queueMicrotask,!1);class ry extends o.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:n}=this.props,{projection:r}=e;Object.assign(rp,rv),r&&(t.group&&t.group.add(r),i&&i.register&&n&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:i,drag:n,isPresent:r}=this.props,s=i.projection;return s&&(s.isPresent=r,n||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent===r||(r?s.promote():s.relegate()||e9.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),i&&i.deregister&&i.deregister(n))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rx(e){let[t,i]=function(e=!0){let t=(0,o.useContext)(rl);if(null===t)return[!0,null];let{isPresent:i,onExitComplete:n,register:r}=t,s=(0,o.useId)();(0,o.useEffect)(()=>{e&&r(s)},[e]);let a=(0,o.useCallback)(()=>e&&n&&n(s),[s,n,e]);return!i&&n?[!1,a]:[!0]}(),n=(0,o.useContext)(ru);return(0,a.jsx)(ry,{...e,layoutGroup:n,switchLayoutGroup:(0,o.useContext)(rd),isPresent:t,safeToRemove:i})}let rv={borderRadius:{...rm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rm,borderTopRightRadius:rm,borderBottomLeftRadius:rm,borderBottomRightRadius:rm,boxShadow:{correct:(e,{treeScale:t,projectionDelta:i})=>{let n=t5.parse(e);if(n.length>5)return e;let r=t5.createTransformer(e),s="number"!=typeof n[0]?1:0,a=i.x.scale*t.x,o=i.y.scale*t.y;n[0+s]/=a,n[1+s]/=o;let l=iE(a,o,.5);return"number"==typeof n[2+s]&&(n[2+s]/=l),"number"==typeof n[3+s]&&(n[3+s]/=l),r(n)}}},rb=(e,t)=>e.depth-t.depth;class rw{constructor(){this.children=[],this.isDirty=!1}add(e){tn(this.children,e),this.isDirty=!0}remove(e){tr(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rb),this.isDirty=!1,this.children.forEach(e)}}function rS(e){let t=td(e)?e.get():e;return e2(t)?t.toValue():t}let rD=["TopLeft","TopRight","BottomLeft","BottomRight"],rM=rD.length,rj=e=>"string"==typeof e?parseFloat(e):e,rk=e=>"number"==typeof e||tB.test(e);function rT(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let rN=rC(0,.5,tM),rP=rC(.5,.95,eZ);function rC(e,t,i){return n=>n<e?0:n>t?1:i(eO(e,t,n))}function rA(e,t){e.min=t.min,e.max=t.max}function r_(e,t){rA(e.x,t.x),rA(e.y,t.y)}function rE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rz(e,t,i,n,r){return e-=t,e=n+1/i*(e-n),void 0!==r&&(e=n+1/r*(e-n)),e}function rO(e,t,[i,n,r],s,a){!function(e,t=0,i=1,n=.5,r,s=e,a=e){if(tL.test(t)&&(t=parseFloat(t),t=iE(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=iE(s.min,s.max,n);e===s&&(o-=t),e.min=rz(e.min,t,i,o,r),e.max=rz(e.max,t,i,o,r)}(e,t[i],t[n],t[r],t.scale,s,a)}let rF=["x","scaleX","originX"],rR=["y","scaleY","originY"];function rI(e,t,i,n){rO(e.x,t,rF,i?i.x:void 0,n?n.x:void 0),rO(e.y,t,rR,i?i.y:void 0,n?n.y:void 0)}function r$(e){return 0===e.translate&&1===e.scale}function rV(e){return r$(e.x)&&r$(e.y)}function rY(e,t){return e.min===t.min&&e.max===t.max}function rL(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rB(e,t){return rL(e.x,t.x)&&rL(e.y,t.y)}function rW(e){return nI(e.x)/nI(e.y)}function rU(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rH{constructor(){this.members=[]}add(e){tn(this.members,e),e.scheduleRender()}remove(e){if(tr(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let i=this.members.findIndex(t=>e===t);if(0===i)return!1;for(let e=i;e>=0;e--){let i=this.members[e];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:n}=e.options;!1===n&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let rq={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},rG="undefined"!=typeof window&&void 0!==window.MotionDebug,rX=["","X","Y","Z"],rK={visibility:"hidden"},rQ=0;function rZ(e,t,i,n){let{latestValues:r}=t;r[e]&&(i[e]=r[e],t.setStaticValue(e,0),n&&(n[e]=0))}function rJ({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(e={},i=null==t?void 0:t()){this.id=rQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rG&&(rq.totalNodes=rq.resolvedTargetDeltas=rq.recalculatedProjection=0),this.nodes.forEach(r2),this.nodes.forEach(r7),this.nodes.forEach(se),this.nodes.forEach(r5),rG&&window.MotionDebug.record(rq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new rw)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ts),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let i=this.eventHandlers.get(e);i&&i.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:n,layout:r,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(r||n)&&(this.isLayoutDirty=!0),e){let i;let n=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,i&&i(),i=function(e,t){let i=ti.now(),n=({timestamp:t})=>{let r=t-i;r>=250&&(e8(n),e(r-250))};return e9.read(n,!0),()=>e8(n)}(n,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(r8))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&s&&(n||r)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:i,layout:n})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let r=this.options.transition||s.getDefaultTransition()||sa,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!rB(this.targetLayout,n)||i,u=!t&&i;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);let t={...eN(r,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||r8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,e8(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(st),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:i}=t.options;if(!i)return;let n=i.props[tm];if(window.MotionHasOptimisedAnimation(n,"transform")){let{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",e9,!(e||i))}let{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e(r)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:i}=this.options;if(void 0===t&&!i)return;let n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r6);return}this.isUpdating||this.nodes.forEach(r3),this.isUpdating=!1,this.nodes.forEach(r9),this.nodes.forEach(r0),this.nodes.forEach(r1),this.clearAllSnapshots();let e=ti.now();e7.delta=tT(0,1e3/60,e-e7.timestamp),e7.timestamp=e,e7.isProcessing=!0,te.update.process(e7),te.preRender.process(e7),te.render.process(e7),e7.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r4),this.sharedNodes.forEach(si)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,e9.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){e9.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nQ(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){let t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!rV(this.projectionDelta),i=this.getTransformTemplate(),n=i?i(this.latestValues,""):void 0,s=n!==this.prevTransformTemplateValue;e&&(t||n2(this.latestValues)||s)&&(r(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let i=this.measurePageBox(),n=this.removeElementScroll(i);return e&&(n=this.removeTransform(n)),su((t=n).x),su(t.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;let{visualElement:t}=this.options;if(!t)return nQ();let i=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(sh))){let{scroll:e}=this.root;e&&(n9(i.x,e.offset.x),n9(i.y,e.offset.y))}return i}removeElementScroll(e){var t;let i=nQ();if(r_(i,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return i;for(let t=0;t<this.path.length;t++){let n=this.path[t],{scroll:r,options:s}=n;n!==this.root&&r&&s.layoutScroll&&(r.wasRoot&&r_(i,e),n9(i.x,r.offset.x),n9(i.y,r.offset.y))}return i}applyTransform(e,t=!1){let i=nQ();r_(i,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];!t&&n.options.layoutScroll&&n.scroll&&n!==n.root&&n7(i,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),n2(n.latestValues)&&n7(i,n.latestValues)}return n2(this.latestValues)&&n7(i,this.latestValues),i}removeTransform(e){let t=nQ();r_(t,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];if(!i.instance||!n2(i.latestValues))continue;n1(i.latestValues)&&i.updateSnapshot();let n=nQ();r_(n,i.measurePageBox()),rI(t,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,n)}return n2(this.latestValues)&&rI(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==e7.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t,i,n,r;let s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);let a=!!this.resumingFrom||this!==s;if(!(e||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:o,layoutId:l}=this.options;if(this.layout&&(o||l)){if(this.resolvedRelativeTargetAt=e7.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nQ(),this.relativeTargetOrigin=nQ(),nB(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),r_(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=nQ(),this.targetWithTransforms=nQ()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),i=this.target,n=this.relativeTarget,r=this.relativeParent.target,nY(i.x,n.x,r.x),nY(i.y,n.y,r.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):r_(this.target,this.layout.layoutBox),n3(this.target,this.targetDelta)):r_(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nQ(),this.relativeTargetOrigin=nQ(),nB(this.relativeTargetOrigin,this.target,e.target),r_(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rG&&rq.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||n1(this.parent.latestValues)||n5(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),i=!!this.resumingFrom||this!==t,n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),i&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===e7.timestamp&&(n=!1),n)return;let{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||s))return;r_(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;(function(e,t,i,n=!1){let r,s;let a=i.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){s=(r=i[o]).projectionDelta;let{visualElement:a}=r.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&n7(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,n3(e,s)),n&&n2(r.latestValues)&&n7(e,r.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}})(this.layoutCorrected,this.treeScale,this.path,i),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=nQ());let{target:l}=t;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(rE(this.prevProjectionDelta.x,this.projectionDelta.x),rE(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),nV(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&rU(this.projectionDelta.x,this.prevProjectionDelta.x)&&rU(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),rG&&rq.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nX(),this.projectionDelta=nX(),this.projectionDeltaWithTransform=nX()}setAnimationOrigin(e,t=!1){let i;let n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},a=nX();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=nQ(),l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),d=!u||u.members.length<=1,h=!!(l&&!d&&!0===this.options.crossfade&&!this.path.some(ss));this.animationProgress=0,this.mixTargetDelta=t=>{let n=t/1e3;if(sn(a.x,e.x,n),sn(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,c,m,p;nB(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,p=this.relativeTargetOrigin,sr(m.x,p.x,o.x,n),sr(m.y,p.y,o.y,n),i&&(u=this.relativeTarget,c=i,rY(u.x,c.x)&&rY(u.y,c.y))&&(this.isProjectionDirty=!1),i||(i=nQ()),r_(i,this.relativeTarget)}l&&(this.animationValues=s,function(e,t,i,n,r,s){r?(e.opacity=iE(0,void 0!==i.opacity?i.opacity:1,rN(n)),e.opacityExit=iE(void 0!==t.opacity?t.opacity:1,0,rP(n))):s&&(e.opacity=iE(void 0!==t.opacity?t.opacity:1,void 0!==i.opacity?i.opacity:1,n));for(let r=0;r<rM;r++){let s=`border${rD[r]}Radius`,a=rT(t,s),o=rT(i,s);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||rk(a)===rk(o)?(e[s]=Math.max(iE(rj(a),rj(o),n),0),(tL.test(o)||tL.test(a))&&(e[s]+="%")):e[s]=o)}(t.rotate||i.rotate)&&(e.rotate=iE(t.rotate||0,i.rotate||0,n))}(s,r,this.latestValues,n,h,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(e8(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=e9.update(()=>{rh.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,i){let n=td(0)?0:tu(0);return n.start(np("",n,1e3,i)),n.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:i,layout:n,latestValues:r}=e;if(t&&i&&n){if(this!==e&&this.layout&&n&&sd(this.options.animationType,this.layout.layoutBox,n.layoutBox)){i=this.target||nQ();let t=nI(this.layout.layoutBox.x);i.x.min=e.target.x.min,i.x.max=i.x.min+t;let n=nI(this.layout.layoutBox.y);i.y.min=e.target.y.min,i.y.max=i.y.min+n}r_(t,i),n7(t,r),nV(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new rH),this.sharedNodes.get(e).add(t);let i=t.options.initialPromotionConfig;t.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:i}={}){let n=this.getStack();n&&n.promote(this,i),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:i}=e;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(t=!0),!t)return;let n={};i.z&&rZ("z",e,n,this.animationValues);for(let t=0;t<rX.length;t++)rZ(`rotate${rX[t]}`,e,n,this.animationValues),rZ(`skew${rX[t]}`,e,n,this.animationValues);for(let t in e.render(),n)e.setStaticValue(t,n[t]),this.animationValues&&(this.animationValues[t]=n[t]);e.scheduleRender()}getProjectionStyles(e){var t,i;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rK;let n={visibility:""},r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=rS(null==e?void 0:e.pointerEvents)||"",n.transform=r?r(this.latestValues,""):"none",n;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=rS(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!n2(this.latestValues)&&(t.transform=r?r({},""):"none",this.hasProjected=!1),t}let a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),n.transform=function(e,t,i){let n="",r=e.x.translate/t.x,s=e.y.translate/t.y,a=(null==i?void 0:i.z)||0;if((r||s||a)&&(n=`translate3d(${r}px, ${s}px, ${a}px) `),(1!==t.x||1!==t.y)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),i){let{transformPerspective:e,rotate:t,rotateX:r,rotateY:s,skewX:a,skewY:o}=i;e&&(n=`perspective(${e}px) ${n}`),t&&(n+=`rotate(${t}deg) `),r&&(n+=`rotateX(${r}deg) `),s&&(n+=`rotateY(${s}deg) `),a&&(n+=`skewX(${a}deg) `),o&&(n+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(n+=`scale(${o}, ${l})`),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),r&&(n.transform=r(a,n.transform));let{x:o,y:l}=this.projectionDelta;for(let e in n.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?n.opacity=s===this?null!==(i=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:n.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,rp){if(void 0===a[e])continue;let{correct:t,applyTo:i}=rp[e],r="none"===n.transform?a[e]:t(a[e],s);if(i){let e=i.length;for(let t=0;t<e;t++)n[i[t]]=r}else n[e]=r}return this.options.layoutId&&(n.pointerEvents=s===this?rS(null==e?void 0:e.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(r6),this.root.sharedNodes.clear()}}}function r0(e){e.updateLayout()}function r1(e){var t;let i=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:n}=e.layout,{animationType:r}=e.options,s=i.source!==e.layout.source;"size"===r?nZ(e=>{let n=s?i.measuredBox[e]:i.layoutBox[e],r=nI(n);n.min=t[e].min,n.max=n.min+r}):sd(r,i.layoutBox,t)&&nZ(n=>{let r=s?i.measuredBox[n]:i.layoutBox[n],a=nI(t[n]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+a)});let a=nX();nV(a,t,i.layoutBox);let o=nX();s?nV(o,e.applyTransform(n,!0),i.measuredBox):nV(o,t,i.layoutBox);let l=!rV(a),u=!1;if(!e.resumeFrom){let n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){let{snapshot:r,layout:s}=n;if(r&&s){let a=nQ();nB(a,i.layoutBox,r.layoutBox);let o=nQ();nB(o,t,s.layoutBox),rB(a,o)||(u=!0),n.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:i,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function r2(e){rG&&rq.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function r5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function r4(e){e.clearSnapshot()}function r6(e){e.clearMeasurements()}function r3(e){e.isLayoutDirty=!1}function r9(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function r8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function r7(e){e.resolveTargetDelta()}function se(e){e.calcProjection()}function st(e){e.resetSkewAndRotation()}function si(e){e.removeLeadSnapshot()}function sn(e,t,i){e.translate=iE(t.translate,0,i),e.scale=iE(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function sr(e,t,i,n){e.min=iE(t.min,i.min,n),e.max=iE(t.max,i.max,n)}function ss(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let sa={duration:.45,ease:[.4,0,.1,1]},so=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),sl=so("applewebkit/")&&!so("chrome/")?Math.round:eZ;function su(e){e.min=sl(e.min),e.max=sl(e.max)}function sd(e,t,i){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(rW(t)-rW(i)))}function sh(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}let sc=rJ({attachResizeListener:(e,t)=>nT(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sm={current:void 0},sp=rJ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sm.current){let e=new sc({});e.mount(window),e.setOptions({layoutScroll:!0}),sm.current=e}return sm.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function sf(e,t,i){let{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===i);let r=n["onHover"+i];r&&e9.postRender(()=>r(t,nN(t)))}class sg extends nD{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[n,r,s]=eV(e,i),a=eY(e=>{let{target:i}=e,n=t(e);if("function"!=typeof n||!i)return;let s=eY(e=>{n(e),i.removeEventListener("pointerleave",s)});i.addEventListener("pointerleave",s,r)});return n.forEach(e=>{e.addEventListener("pointerenter",a,r)}),s}(e,e=>(sf(this.node,e,"Start"),e=>sf(this.node,e,"End"))))}unmount(){}}class sy extends nD{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iL(nT(this.node.current,"focus",()=>this.onFocus()),nT(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sx(e,t,i){let{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===i);let r=n["onTap"+("End"===i?"":i)];r&&e9.postRender(()=>r(t,nN(t)))}class sv extends nD{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[n,r,s]=eV(e,i),a=e=>{let n=e.currentTarget;if(!eX(e)||eU.has(n))return;eU.add(n);let s=t(e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),eX(e)&&eU.has(n)&&(eU.delete(n),"function"==typeof s&&s(e,{success:t}))},o=e=>{a(e,i.useGlobalTarget||eL(n,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return n.forEach(e=>{eW.has(e.tagName)||-1!==e.tabIndex||null!==e.getAttribute("tabindex")||(e.tabIndex=0),(i.useGlobalTarget?window:e).addEventListener("pointerdown",a,r),e.addEventListener("focus",e=>eG(e,r),r)}),s}(e,e=>(sx(this.node,e,"Start"),(e,{success:t})=>sx(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let sb=new WeakMap,sw=new WeakMap,sS=e=>{let t=sb.get(e.target);t&&t(e)},sD=e=>{e.forEach(sS)},sM={some:0,all:1};class sj extends nD{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:n="some",once:r}=e,s={root:t?t.current:void 0,rootMargin:i,threshold:"number"==typeof n?n:sM[n]};return function(e,t,i){let n=function({root:e,...t}){let i=e||document;sw.has(i)||sw.set(i,{});let n=sw.get(i),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(sD,{root:e,...t})),n[r]}(t);return sb.set(e,i),n.observe(e),()=>{sb.delete(e),n.unobserve(e)}}(this.node.current,s,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,r&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:i,onViewportLeave:n}=this.node.getProps(),s=t?i:n;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}(e,t))&&this.startObserver()}unmount(){}}let sk=(0,o.createContext)({strict:!1}),sT=(0,o.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),sN=(0,o.createContext)({});function sP(e){return ef(e.animate)||eD.some(t=>ex(e[t]))}function sC(e){return!!(sP(e)||e.variants)}function sA(e){return Array.isArray(e)?e.join(" "):e}let s_="undefined"!=typeof window,sE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sz={};for(let e in sE)sz[e]={isEnabled:t=>sE[e].some(e=>!!t[e])};let sO=Symbol.for("motionComponentSymbol"),sF=s_?o.useLayoutEffect:o.useEffect,sR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sI(e){if("string"!=typeof e||e.includes("-"));else if(sR.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let s$=e=>(t,i)=>{let n=(0,o.useContext)(sN),r=(0,o.useContext)(rl),s=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:i},n,r,s){let a={latestValues:function(e,t,i,n){let r={},s=n(e,{});for(let e in s)r[e]=rS(s[e]);let{initial:a,animate:o}=e,l=sP(e),u=sC(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let d=!!i&&!1===i.initial,h=(d=d||!1===a)?o:a;if(h&&"boolean"!=typeof h&&!ef(h)){let t=Array.isArray(h)?h:[h];for(let i=0;i<t.length;i++){let n=eb(e,t[i]);if(n){let{transitionEnd:e,transition:t,...i}=n;for(let e in i){let t=i[e];if(Array.isArray(t)){let e=d?t.length-1:0;t=t[e]}null!==t&&(r[e]=t)}for(let t in e)r[t]=e[t]}}}return r}(n,r,s,e),renderState:t()};return i&&(a.onMount=e=>i({props:n,current:e,...a}),a.onUpdate=e=>i(e)),a})(e,t,n,r);return i?s():function(e){let t=(0,o.useRef)(null);return null===t.current&&(t.current=e()),t.current}(s)},sV=(e,t)=>t&&"number"==typeof e?t.transform(e):e,sY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sL=eJ.length;function sB(e,t,i){let{style:n,vars:r,transformOrigin:s}=e,a=!1,o=!1;for(let e in t){let i=t[e];if(e0.has(e)){a=!0;continue}if(ib(e)){r[e]=i;continue}{let t=sV(i,t7[e]);e.startsWith("origin")?(o=!0,s[e]=t):n[e]=t}}if(!t.transform&&(a||i?n.transform=function(e,t,i){let n="",r=!0;for(let s=0;s<sL;s++){let a=eJ[s],o=e[a];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o))||i){let e=sV(o,t7[a]);if(!l){r=!1;let t=sY[a]||a;n+=`${t}(${e}) `}i&&(t[a]=e)}}return n=n.trim(),i?n=i(t,r?"":n):r&&(n="none"),n}(t,e.transform,i):n.transform&&(n.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:i=0}=s;n.transformOrigin=`${e} ${t} ${i}`}}let sW={offset:"stroke-dashoffset",array:"stroke-dasharray"},sU={offset:"strokeDashoffset",array:"strokeDasharray"};function sH(e,t,i){return"string"==typeof e?e:tB.transform(t+i*e)}function sq(e,{attrX:t,attrY:i,attrScale:n,originX:r,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},d,h){if(sB(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:c,style:m,dimensions:p}=e;c.transform&&(p&&(m.transform=c.transform),delete c.transform),p&&(void 0!==r||void 0!==s||m.transform)&&(m.transformOrigin=function(e,t,i){let n=sH(t,e.x,e.width),r=sH(i,e.y,e.height);return`${n} ${r}`}(p,void 0!==r?r:.5,void 0!==s?s:.5)),void 0!==t&&(c.x=t),void 0!==i&&(c.y=i),void 0!==n&&(c.scale=n),void 0!==a&&function(e,t,i=1,n=0,r=!0){e.pathLength=1;let s=r?sW:sU;e[s.offset]=tB.transform(-n);let a=tB.transform(t),o=tB.transform(i);e[s.array]=`${a} ${o}`}(c,a,o,l,!1)}let sG=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),sX=()=>({...sG(),attrs:{}}),sK=e=>"string"==typeof e&&"svg"===e.toLowerCase();function sQ(e,{style:t,vars:i},n,r){for(let s in Object.assign(e.style,t,r&&r.getProjectionStyles(n)),i)e.style.setProperty(s,i[s])}let sZ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sJ(e,t,i,n){for(let i in sQ(e,t,void 0,n),t.attrs)e.setAttribute(sZ.has(i)?i:tc(i),t.attrs[i])}function s0(e,{layout:t,layoutId:i}){return e0.has(e)||e.startsWith("origin")||(t||void 0!==i)&&(!!rp[e]||"opacity"===e)}function s1(e,t,i){var n;let{style:r}=e,s={};for(let a in r)(td(r[a])||t.style&&td(t.style[a])||s0(a,e)||(null===(n=null==i?void 0:i.getValue(a))||void 0===n?void 0:n.liveStyle)!==void 0)&&(s[a]=r[a]);return s}function s2(e,t,i){let n=s1(e,t,i);for(let i in e)(td(e[i])||td(t[i]))&&(n[-1!==eJ.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return n}let s5=["x","y","width","height","cx","cy","r"],s4={useVisualState:s$({scrapeMotionValuesFromProps:s2,createRenderState:sX,onUpdate:({props:e,prevProps:t,current:i,renderState:n,latestValues:r})=>{if(!i)return;let s=!!e.drag;if(!s){for(let e in r)if(e0.has(e)){s=!0;break}}if(!s)return;let a=!t;if(t)for(let i=0;i<s5.length;i++){let n=s5[i];e[n]!==t[n]&&(a=!0)}a&&e9.read(()=>{(function(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(e){t.dimensions={x:0,y:0,width:0,height:0}}})(i,n),e9.render(()=>{sq(n,r,sK(i.tagName),e.transformTemplate),sJ(i,n)})})}})},s6={useVisualState:s$({scrapeMotionValuesFromProps:s1,createRenderState:sG})};function s3(e,t,i){for(let n in t)td(t[n])||s0(n,i)||(e[n]=t[n])}let s9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function s8(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||s9.has(e)}let s7=e=>!s8(e);try{!function(e){e&&(s7=t=>t.startsWith("on")?!s8(t):e(t))}(require("@emotion/is-prop-valid").default)}catch(e){}let ae={current:null},at={current:!1},ai=[...ik,tG,t5],an=e=>ai.find(ij(e)),ar=new WeakMap,as=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aa{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:n,blockInitialAnimation:r,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=ti.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,e9.render(this.render,!1,!0))};let{latestValues:o,renderState:l,onUpdate:u}=s;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=sP(t),this.isVariantNode=sC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in h){let t=h[e];void 0!==o[e]&&td(t)&&t.set(o[e],!1)}}mount(e){this.current=e,ar.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),at.current||function(){if(at.current=!0,s_){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ae.current=e.matches;e.addListener(t),t()}else ae.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ae.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in ar.delete(this.current),this.projection&&this.projection.unmount(),e8(this.notifyUpdate),e8(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let i;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=e0.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&e9.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in sz){let t=sz[e];if(!t)continue;let{isEnabled:i,Feature:n}=t;if(!this.features[e]&&n&&i(this.props)&&(this.features[e]=new n(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nQ()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<as.length;t++){let i=as[t];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let n=e["on"+i];n&&(this.propEventSubscriptions[i]=this.on(i,n))}this.prevMotionValues=function(e,t,i){for(let n in t){let r=t[n],s=i[n];if(td(r))e.addValue(n,r);else if(td(s))e.addValue(n,tu(r,{owner:e}));else if(s!==r){if(e.hasValue(n)){let t=e.getValue(n);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{let t=e.getStaticValue(n);e.addValue(n,tu(void 0!==t?t:r,{owner:e}))}}}for(let n in i)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return void 0===i&&void 0!==t&&(i=tu(null===t?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let n=void 0===this.latestValues[e]&&this.current?null!==(i=this.getBaseTargetFromProps(this.props,e))&&void 0!==i?i:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=n&&("string"==typeof n&&(ix(n)||tk(n))?n=parseFloat(n):!an(n)&&t5.test(t)&&(n=ii(e,t)),this.setBaseTarget(e,td(n)?n.get():n)),td(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;let i;let{initial:n}=this.props;if("string"==typeof n||"object"==typeof n){let r=eb(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);r&&(i=r[e])}if(n&&void 0!==i)return i;let r=this.getBaseTargetFromProps(this.props,e);return void 0===r||td(r)?void 0!==this.initialValues[e]&&void 0===i?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new ts),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class ao extends aa{constructor(){super(...arguments),this.KeyframeResolver=iN}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;td(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class al extends ao{constructor(){super(...arguments),this.type="html",this.renderInstance=sQ}readValueFromInstance(e,t){if(e0.has(t)){let e=it(t);return e&&e.default||0}{let i=window.getComputedStyle(e),n=(ib(t)?i.getPropertyValue(t):i[t])||0;return"string"==typeof n?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:t}){return re(e,t)}build(e,t,i){sB(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return s1(e,t,i)}}class au extends ao{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nQ}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(e0.has(t)){let e=it(t);return e&&e.default||0}return t=sZ.has(t)?t:tc(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return s2(e,t,i)}build(e,t,i){sq(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,n){sJ(e,t,i,n)}mount(e){this.isSVGTag=sK(e.tagName),super.mount(e)}}let ad=function(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(i,n)=>"create"===n?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}((r={animation:{Feature:nM},exit:{Feature:nk},inView:{Feature:sj},tap:{Feature:sv},focus:{Feature:sy},hover:{Feature:sg},pan:{Feature:ro},drag:{Feature:rs,ProjectionNode:sp,MeasureLayout:rx},layout:{ProjectionNode:sp,MeasureLayout:rx}},s=(e,t)=>sI(e)?new au(t):new al(t,{allowProjection:e!==o.Fragment}),function(e,{forwardMotionProps:t}={forwardMotionProps:!1}){return function({preloadedFeatures:e,createVisualElement:t,useRender:i,useVisualState:n,Component:r}){var s,l;function u(e,s){var l;let u;let d={...(0,o.useContext)(sT),...e,layoutId:function({layoutId:e}){let t=(0,o.useContext)(ru).id;return t&&void 0!==e?t+"-"+e:e}(e)},{isStatic:h}=d,c=function(e){let{initial:t,animate:i}=function(e,t){if(sP(e)){let{initial:t,animate:i}=e;return{initial:!1===t||ex(t)?t:void 0,animate:ex(i)?i:void 0}}return!1!==e.inherit?t:{}}(e,(0,o.useContext)(sN));return(0,o.useMemo)(()=>({initial:t,animate:i}),[sA(t),sA(i)])}(e),m=n(e,h);if(!h&&s_){(0,o.useContext)(sk).strict;let e=function(e){let{drag:t,layout:i}=sz;if(!t&&!i)return{};let n={...t,...i};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==i?void 0:i.isEnabled(e))?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(d);u=e.MeasureLayout,c.visualElement=function(e,t,i,n,r){var s,a;let{visualElement:l}=(0,o.useContext)(sN),u=(0,o.useContext)(sk),d=(0,o.useContext)(rl),h=(0,o.useContext)(sT).reducedMotion,c=(0,o.useRef)(null);n=n||u.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:l,props:i,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:h}));let m=c.current,p=(0,o.useContext)(rd);m&&!m.projection&&r&&("html"===m.type||"svg"===m.type)&&function(e,t,i,n){let{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||o&&nR(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:u})}(c.current,i,r,p);let f=(0,o.useRef)(!1);(0,o.useInsertionEffect)(()=>{m&&f.current&&m.update(i,d)});let g=i[tm],y=(0,o.useRef)(!!g&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return sF(()=>{m&&(f.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),rf.render(m.render),y.current&&m.animationState&&m.animationState.animateChanges())}),(0,o.useEffect)(()=>{m&&(!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)}),y.current=!1))}),m}(r,m,d,t,e.ProjectionNode)}return(0,a.jsxs)(sN.Provider,{value:c,children:[u&&c.visualElement?(0,a.jsx)(u,{visualElement:c.visualElement,...d}):null,i(r,e,(l=c.visualElement,(0,o.useCallback)(e=>{e&&m.onMount&&m.onMount(e),l&&(e?l.mount(e):l.unmount()),s&&("function"==typeof s?s(e):nR(s)&&(s.current=e))},[l])),m,h,c.visualElement)]})}e&&function(e){for(let t in e)sz[t]={...sz[t],...e[t]}}(e),u.displayName=`motion.${"string"==typeof r?r:`create(${null!==(l=null!==(s=r.displayName)&&void 0!==s?s:r.name)&&void 0!==l?l:""})`}`;let d=(0,o.forwardRef)(u);return d[sO]=r,d}({...sI(e)?s4:s6,preloadedFeatures:r,useRender:function(e=!1){return(t,i,n,{latestValues:r},s)=>{let a=(sI(t)?function(e,t,i,n){let r=(0,o.useMemo)(()=>{let i=sX();return sq(i,t,sK(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let t={};s3(t,e.style,e),r.style={...t,...r.style}}return r}:function(e,t){let i={},n=function(e,t){let i=e.style||{},n={};return s3(n,i,e),Object.assign(n,function({transformTemplate:e},t){return(0,o.useMemo)(()=>{let i=sG();return sB(i,t,e),Object.assign({},i.vars,i.style)},[t])}(e,t)),n}(e,t);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=n,i})(i,r,s,t),l=function(e,t,i){let n={};for(let r in e)("values"!==r||"object"!=typeof e.values)&&(s7(r)||!0===i&&s8(r)||!t&&!s8(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}(i,"string"==typeof t,e),u=t!==o.Fragment?{...l,...a,ref:n}:{},{children:d}=i,h=(0,o.useMemo)(()=>td(d)?d.get():d,[d]);return(0,o.createElement)(t,{...u,children:h})}}(t),createVisualElement:s,Component:e})})),ah=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ac=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim();var am={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let ap=(0,o.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:a,...l},u)=>(0,o.createElement)("svg",{ref:u,...am,width:t,height:t,stroke:e,strokeWidth:n?24*Number(i)/Number(t):i,className:ac("lucide",r),...l},[...a.map(([e,t])=>(0,o.createElement)(e,t)),...Array.isArray(s)?s:[s]])),af=(e,t)=>{let i=(0,o.forwardRef)(({className:i,...n},r)=>(0,o.createElement)(ap,{ref:r,iconNode:t,className:ac(`lucide-${ah(e)}`,i),...n}));return i.displayName=`${e}`,i},ag=af("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ay=af("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ax=af("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),av=af("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ab=af("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),aw=af("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),aS={emerald:{dotBg:"bg-emerald-500",progressBg:"bg-emerald-50",progressText:"text-emerald-600",progressBarFrom:"from-emerald-500",progressBarTo:"to-teal-400",progressTag:"bg-emerald-50 text-emerald-600",dayToday:"bg-[#009C7B] text-white",dayMarked:"bg-[#7BC27E] text-zinc-900",dayPast:"bg-[#D8E9E4] text-zinc-700",dayFuture:"bg-[#EEF3F4] border border-zinc-200/60 text-zinc-900",dayRing:"ring-[#009C7B]/30",dayShadow:"shadow-[#009C7B]/25",dayFocusOutline:"focus-visible:outline-[#009C7B]/40"},blue:{dotBg:"bg-blue-500",progressBg:"bg-blue-50",progressText:"text-blue-600",progressBarFrom:"from-blue-500",progressBarTo:"to-cyan-400",progressTag:"bg-blue-50 text-blue-600",dayToday:"bg-blue-600 text-white",dayMarked:"bg-blue-300 text-zinc-900",dayPast:"bg-blue-100 text-blue-900",dayFuture:"bg-zinc-50 border border-zinc-200/60 text-zinc-900",dayRing:"ring-blue-600/30",dayShadow:"shadow-blue-600/25",dayFocusOutline:"focus-visible:outline-blue-600/40"},rose:{dotBg:"bg-rose-500",progressBg:"bg-rose-50",progressText:"text-rose-600",progressBarFrom:"from-rose-500",progressBarTo:"to-pink-400",progressTag:"bg-rose-50 text-rose-600",dayToday:"bg-rose-600 text-white",dayMarked:"bg-rose-300 text-zinc-900",dayPast:"bg-rose-100 text-rose-900",dayFuture:"bg-zinc-50 border border-zinc-200/60 text-zinc-900",dayRing:"ring-rose-600/30",dayShadow:"shadow-rose-600/25",dayFocusOutline:"focus-visible:outline-rose-600/40"},amber:{dotBg:"bg-amber-500",progressBg:"bg-amber-50",progressText:"text-amber-600",progressBarFrom:"from-amber-500",progressBarTo:"to-orange-400",progressTag:"bg-amber-50 text-amber-600",dayToday:"bg-amber-500 text-white",dayMarked:"bg-amber-300 text-zinc-900",dayPast:"bg-amber-100 text-amber-900",dayFuture:"bg-zinc-50 border border-zinc-200/60 text-zinc-900",dayRing:"ring-amber-500/30",dayShadow:"shadow-amber-500/25",dayFocusOutline:"focus-visible:outline-amber-600/40"},violet:{dotBg:"bg-violet-500",progressBg:"bg-violet-50",progressText:"text-violet-600",progressBarFrom:"from-violet-500",progressBarTo:"to-purple-400",progressTag:"bg-violet-50 text-violet-600",dayToday:"bg-violet-600 text-white",dayMarked:"bg-violet-300 text-zinc-900",dayPast:"bg-violet-100 text-violet-900",dayFuture:"bg-zinc-50 border border-zinc-200/60 text-zinc-900",dayRing:"ring-violet-600/30",dayShadow:"shadow-violet-600/25",dayFocusOutline:"focus-visible:outline-violet-600/40"},cyan:{dotBg:"bg-cyan-500",progressBg:"bg-cyan-50",progressText:"text-cyan-600",progressBarFrom:"from-cyan-500",progressBarTo:"to-sky-400",progressTag:"bg-cyan-50 text-cyan-600",dayToday:"bg-cyan-500 text-white",dayMarked:"bg-cyan-300 text-zinc-900",dayPast:"bg-cyan-100 text-cyan-900",dayFuture:"bg-zinc-50 border border-zinc-200/60 text-zinc-900",dayRing:"ring-cyan-500/30",dayShadow:"shadow-cyan-500/25",dayFocusOutline:"focus-visible:outline-cyan-600/40"}},aD="emerald";function aM(e){if(!e)return"—";try{let t=Q(e);if(Number.isNaN(t.getTime()))return"—";return H(t,"yyyy.MM.dd")}catch{return"—"}}function aj({ranges:e,activeRangeId:t,onSelect:i,onAdd:n,onAddTemplate:r,onEdit:s,onDelete:l,onDuplicate:u,now:d,variant:h,open:c,onOpenChange:m}){let p=(0,o.useMemo)(()=>[...e].reverse(),[e]),f=(0,a.jsxs)("div",{className:"flex h-full flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-zinc-900",children:["我的篇章",(0,a.jsxs)("span",{className:"ml-2 text-xs font-medium text-zinc-400",children:["(",e.length,")"]})]}),"drawer"===h&&a.jsx("button",{type:"button",className:"rounded-md p-2 text-zinc-400 transition-colors hover:bg-zinc-100 hover:text-zinc-700",onClick:()=>m?.(!1),"aria-label":"关闭",children:a.jsx(ag,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto rounded-xl border border-zinc-200/60 bg-white p-2 custom-scrollbar",children:[p.map(e=>{let n=e.id===t,r=aS[e.color||aD]??aS[aD],o=function(e,t){let i=w(Q(e.startISO)),n=w(Q(e.endISO)),r=w(t),s=S(n,i)+1,a=function(e,t){let i=w(Q(e.startISO)),n=w(Q(e.endISO)),r=w(t);return eu(r,i)?"upcoming":q(r,n)?"ended":"active"}(e,t);if("upcoming"===a)return{status:a,totalDays:s,label:"未开始",detail:`还有 ${Math.max(0,S(i,r))} 天`};if("ended"===a)return{status:a,totalDays:s,label:"已结束",detail:"已完成"};let o=Math.max(0,Math.min(s,S(r,i)));return{status:a,totalDays:s,label:"进行中",detail:`剩余 ${Math.max(0,s-o)} 天`}}(e,d),c=function(e,t){try{let i=w(Q(e.startISO)),n=w(Q(e.endISO));if(Number.isNaN(i.getTime())||Number.isNaN(n.getTime()))return 0;let r=w(t);if(q(r,n))return 100;if(eu(r,i))return 0;let s=el(eo(n),i);if(s<=0)return 100;let a=el(t,i);return Math.min(100,Math.max(0,a/s*100))}catch{return 0}}(e,d),p="active"===o.status?a.jsx("span",{className:`rounded-full px-2 py-0.5 text-[10px] font-medium ${r.progressTag}`,children:o.label}):"upcoming"===o.status?a.jsx("span",{className:"rounded-full bg-blue-50 px-2 py-0.5 text-[10px] font-medium text-blue-600",children:o.label}):a.jsx("span",{className:"rounded-full bg-zinc-100 px-2 py-0.5 text-[10px] font-medium text-zinc-500",children:o.label});return(0,a.jsxs)("div",{className:`group relative flex items-start justify-between rounded-lg px-2 py-2 text-sm transition-colors ${n?"bg-emerald-50 text-emerald-900":"hover:bg-zinc-50 text-zinc-700"}`,children:[a.jsx("button",{className:"flex-1 text-left pr-8",onClick:()=>{i(e.id),"drawer"===h&&m?.(!1)},children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`h-2 w-2 rounded-full ${r.dotBg}`}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("div",{className:"truncate font-medium",children:e.name}),p]}),(0,a.jsxs)("div",{className:`mt-0.5 flex items-center justify-between text-[10px] ${n?"text-emerald-600/80":"text-zinc-400"}`,children:[(0,a.jsxs)("span",{className:"truncate",children:[aM(e.startISO)," - ",aM(e.endISO)]}),a.jsx("span",{className:"ml-2 shrink-0 tabular-nums",children:o.detail})]}),a.jsx("div",{className:"mt-1 h-1.5 w-full overflow-hidden rounded-full bg-zinc-200/70",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${r.progressBarFrom} ${r.progressBarTo}`,style:{width:`${c}%`}})})]})]})}),n&&a.jsx(ay,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-emerald-600"}),(0,a.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 hidden group-hover:flex items-center gap-1 bg-white/80 backdrop-blur-sm rounded-md pl-1 shadow-sm border border-zinc-100",children:[a.jsx("button",{onClick:t=>{t.stopPropagation(),s(e),"drawer"===h&&m?.(!1)},className:"p-1 hover:bg-zinc-100 rounded text-zinc-500 hover:text-zinc-900",title:"编辑",children:a.jsx(ax,{className:"h-3 w-3"})}),a.jsx("button",{onClick:t=>{t.stopPropagation(),u(e.id)},className:"p-1 hover:bg-zinc-100 rounded text-zinc-500 hover:text-zinc-900",title:"复制",children:a.jsx(av,{className:"h-3 w-3"})}),a.jsx("button",{onClick:t=>{t.stopPropagation(),l(e.id)},className:"p-1 hover:bg-rose-50 rounded text-zinc-400 hover:text-rose-600",title:"删除",children:a.jsx(ab,{className:"h-3 w-3"})})]})]},e.id)}),0===p.length&&a.jsx("div",{className:"px-2 py-4 text-center text-xs text-zinc-400",children:"暂无区间，开始创建吧"})]}),r&&(0,a.jsxs)("div",{className:"rounded-xl border border-zinc-200/60 bg-white p-2",children:[a.jsx("div",{className:"px-1 pb-2 text-[11px] font-medium text-zinc-400",children:"推荐模板"}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{r("sprint_2w"),"drawer"===h&&m?.(!1)},className:"flex items-center justify-between rounded-lg border border-zinc-200/60 bg-white px-3 py-2 text-left text-xs font-medium text-zinc-700 transition-colors hover:bg-zinc-50",children:[a.jsx("span",{children:"\uD83C\uDFC3‍♂️ 短期冲刺"}),a.jsx("span",{className:"text-[11px] font-medium text-zinc-400",children:"2周"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{r("quarter_3m"),"drawer"===h&&m?.(!1)},className:"flex items-center justify-between rounded-lg border border-zinc-200/60 bg-white px-3 py-2 text-left text-xs font-medium text-zinc-700 transition-colors hover:bg-zinc-50",children:[a.jsx("span",{children:"\uD83C\uDFAF 季度目标"}),a.jsx("span",{className:"text-[11px] font-medium text-zinc-400",children:"3个月"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{r("travel"),"drawer"===h&&m?.(!1)},className:"flex items-center justify-between rounded-lg border border-zinc-200/60 bg-white px-3 py-2 text-left text-xs font-medium text-zinc-700 transition-colors hover:bg-zinc-50",children:[a.jsx("span",{children:"✈️ 旅行倒数"}),a.jsx("span",{className:"text-[11px] font-medium text-zinc-400",children:"自定义"})]})]})]}),(0,a.jsxs)("button",{onClick:()=>{n(),"drawer"===h&&m?.(!1)},className:"flex w-full items-center justify-center gap-2 rounded-lg bg-zinc-900 py-2 text-sm font-medium text-white transition-colors hover:bg-zinc-800",type:"button",children:[a.jsx(aw,{className:"h-4 w-4"}),"新建篇章"]})]});return"sidebar"===h?a.jsx("div",{className:"h-full",children:f}):c?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true",children:[a.jsx("button",{type:"button",className:"absolute inset-0 bg-black/40",onClick:()=>m?.(!1),"aria-label":"关闭"}),a.jsx("div",{className:"absolute inset-y-0 right-0 w-[320px] max-w-[90vw] bg-white shadow-2xl p-4",children:f})]}):null}let ak=(0,o.memo)(function({day:e,variant:t="compact",onHover:i,onMove:n,onLeave:r,onClick:s,onMouseDown:o,onMouseUp:l,onFocus:u,onBlur:d,onKeyDown:h,dimmed:c,selected:m,isDragSelected:p,forceGray:f,themeColor:g="emerald",entry:y,tabIndex:x,dataIso:v,showWeekend:b=!1,showHoliday:w=!1,showDateNumber:S=!1,dimDateNumber:D=!1}){let M=aS[g]||aS.emerald,j="large"===t?"relative aspect-square w-full cursor-pointer rounded-2xl shadow-sm transition-all duration-150 ease-out will-change-transform hover:z-10 hover:shadow-md hover:brightness-[1.01] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-0":"mini"===t?"relative aspect-square w-full cursor-pointer rounded-md transition-all duration-150 ease-out will-change-transform hover:z-10 hover:scale-110 hover:shadow-md focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-0":"relative aspect-square w-full cursor-pointer rounded-lg transition-all duration-150 ease-out will-change-transform hover:z-10 hover:shadow-md hover:brightness-[1.01] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-0",k=e.date.getDate(),T="today"===e.state,N=!!e.holiday&&w,P=S&&("mini"===t||"compact"===t),C=y?.state??0,A=ed[C].dotClass,_=T?`ring-2 ${M.dayRing} ring-offset-2 ring-offset-white ${M.dayShadow} shadow-lg`:"",E="past"===e.state?"bg-[#888888] text-white":p?M.dayMarked:T?M.dayToday:f?"bg-zinc-200/70 text-zinc-700":y?M.dayMarked:e.holiday&&w?"bg-[#FFB4AD] text-zinc-900":e.isWeekend&&b?"bg-[#D2D5F2] text-zinc-900":M.dayFuture,z="large"===t?(0,a.jsxs)("div",{className:"pointer-events-none absolute inset-0 flex flex-col items-center justify-center gap-0.5 px-1",children:[a.jsx("div",{className:`select-none text-lg font-semibold leading-none tabular-nums ${T?"text-white":"text-zinc-900"} ${D?"opacity-30":""}`,children:k}),N?a.jsx("div",{className:`select-none text-[12px] font-semibold leading-none tracking-tight ${T?"text-white/90":"text-zinc-600"}`,children:e.holiday}):null]}):P||N?a.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center px-0.5",children:(0,a.jsxs)("div",{className:"flex max-w-full flex-col items-center justify-center gap-0.5",children:[P?a.jsx("div",{className:`select-none font-semibold leading-none tabular-nums ${"mini"===t?"text-[10px]":"text-[13px]"} ${D?"opacity-30":""}`,children:k}):null,N?a.jsx("div",{className:`select-none font-semibold leading-none tracking-tight ${"mini"===t?"text-[8px]":"text-[10px]"} truncate`,children:e.holiday}):null]})}):null,O=0!==C?a.jsx("div",{className:"pointer-events-none absolute right-1 top-1",children:a.jsx("span",{className:`block rounded-full ${"mini"===t?"bg-[#009C7B] ring-1 ring-white":A} ${"mini"===t?"h-1.5 w-1.5":"h-2 w-2"}`})}):null,F=m?`ring-2 ${M.dayRing} ring-offset-2 ring-offset-white`:"",R=c?"opacity-40":"";return"today"===e.state?(0,a.jsxs)(ad.div,{role:"gridcell","aria-label":e.label,"data-iso":v??e.isoDate,tabIndex:x,className:`${j} ${M.dayFocusOutline} ${E} ${_} ${F} ${R}`,onMouseEnter:t=>i(e,t),onMouseMove:t=>n(e,t),onMouseLeave:r,onFocus:t=>u?.(e,t),onBlur:t=>d?.(e,t),onKeyDown:t=>h?.(e,t),onClick:t=>s?.(e,t),onMouseDown:t=>o?.(e,t),onMouseUp:t=>l?.(e,t),children:[z,O]}):(0,a.jsxs)("div",{role:"gridcell","aria-label":e.label,"data-iso":v??e.isoDate,tabIndex:x,className:`${j} ${M.dayFocusOutline} ${E} ${_} ${F} ${R}`,onMouseEnter:t=>i(e,t),onMouseMove:t=>n(e,t),onMouseLeave:r,onFocus:t=>u?.(e,t),onBlur:t=>d?.(e,t),onKeyDown:t=>h?.(e,t),onClick:t=>s?.(e,t),onMouseDown:t=>o?.(e,t),onMouseUp:t=>l?.(e,t),children:[z,O]})}),aT=({viewMode:e,days:t,columns:i,gridGap:n,entries:r,selectedISODate:s,focusedISODate:l,highlightWeekends:u,highlightHolidays:d,effectiveHighlightThisMonth:h,currentMonth:c,recordFilter:m,noteOnly:p,stateFilters:f,noteQuery:g,isDragging:y,dragStartISO:x,dragCurrentISO:v,isRangeEditing:b,rangeDraftColor:w,rangeDraftStartISO:S,rangeDraftEndISO:D,onCellHover:M,onCellMove:j,onCellLeave:k,onCellFocus:T,onCellBlur:N,onCellKeyDown:P,onCellClick:C,onCellMouseDown:A,onCellMouseUp:_})=>{let[E,z]=(0,o.useState)(null),O=(0,o.useMemo)(()=>{if("year"!==e)return[];let i=new Map;for(let e of t){let t=i.get(e.month);t?t.push(e):i.set(e.month,[e])}let n=[];for(let e=1;e<=12;e+=1){let t=i.get(e)??[];if(0===t.length)continue;let r=(t[0].date.getDay()+6)%7;n.push({month:e,offset:r,days:t})}return n},[t,e]),F=(t,i="compact",n=!1)=>{let o=r[t.isoDate]??null,E=s===t.isoDate,z=!h||h&&t.month===c,O=!!o,F=!!o?.note.trim(),R=0===f.length||!!o&&f.includes(o.state),I=g.trim().toLowerCase(),$=!I||F&&o.note.toLowerCase().includes(I),V=h||"all"!==m||p||f.length>0||""!==I,Y=!1;y&&x&&v?Y=t.isoDate>=(x<v?x:v)&&t.isoDate<=(x>v?x:v):b&&S&&D&&(Y=t.isoDate>=S&&t.isoDate<=D);let L=b&&Y?w:"emerald";return a.jsx(ak,{variant:i,dataIso:t.isoDate,tabIndex:l===t.isoDate?0:-1,day:t,dimmed:"range"!==e&&V&&!(z&&("all"===m||("recorded"===m?O:!O))&&(!p||F)&&R&&$),selected:E,isDragSelected:Y,forceGray:b&&!Y,themeColor:L,entry:b?null:o,showWeekend:u,showHoliday:d,showDateNumber:"mini"===i||"month"===e||n,dimDateNumber:("mini"===i||"month"===e)&&!n,onHover:M,onMove:j,onLeave:k,onFocus:T,onBlur:N,onKeyDown:P,onClick:C,onMouseDown:A,onMouseUp:_},t.isoDate)};if("month"===e){if(0===t.length)return null;let e=(t[0].date.getDay()+6)%7,i=e+t.length;return(0,a.jsxs)("div",{className:"grid gap-2",style:{gridTemplateColumns:"repeat(7, 1fr)"},children:[["一","二","三","四","五","六","日"].map(e=>a.jsx("div",{className:"mb-1 text-center text-xs font-medium text-zinc-400",children:e},e)),Array.from({length:e}).map((e,t)=>a.jsx("div",{},`offset-${t}`)),t.map(e=>F(e,"compact",!0)),Array.from({length:i%7==0?0:7-i%7}).map((e,t)=>a.jsx("div",{},`trailing-${t}`))]})}return"year"===e?a.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:O.map(e=>{let t=e.month===c,i=E===e.month,n=t||i;return(0,a.jsxs)("div",{className:`flex flex-col rounded-2xl transition-all duration-300 ease-out ${n?"bg-zinc-50":""} ${t?"sm:col-span-2 sm:row-span-2 p-6 shadow-sm ring-1 ring-zinc-200/50":"p-3"}`,onMouseEnter:()=>z(e.month),onMouseLeave:()=>z(null),children:[(0,a.jsxs)("div",{className:"mb-3 flex items-baseline justify-between",children:[(0,a.jsxs)("span",{className:`${t?"text-xl":"text-sm"} font-semibold text-zinc-900`,children:[e.month,"月"]}),(0,a.jsxs)("span",{className:`${t?"text-xs":"text-[10px]"} text-zinc-400`,children:[e.days.length,"天"]})]}),(0,a.jsxs)("div",{className:`grid ${t?"gap-2":"gap-1.5"}`,style:{gridTemplateColumns:"repeat(7, 1fr)"},children:[["一","二","三","四","五","六","日"].map(e=>a.jsx("div",{className:`mb-1 text-center font-medium text-zinc-400 ${t?"text-xs":"text-[10px]"}`,children:e},e)),Array.from({length:e.offset}).map((e,t)=>a.jsx("div",{},`offset-${t}`)),e.days.map(e=>F(e,t?"compact":"mini",n))]})]},e.month)})}):a.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${i}, 1fr)`,gap:`${n}px`},children:t.map(e=>F(e,"compact",!0))})};function aN(e,t){let i=e.trim()||"区间",n=new Set(t.map(e=>e.name.trim()));if(!n.has(i))return i;let r=2;for(;n.has(`${i}-${r}`);)r+=1;return`${i}-${r}`}function aP(e){if(!e||"object"!=typeof e)return null;let t={};for(let[i,n]of Object.entries(e)){if(!function(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;try{return H(Q(e),"yyyy-MM-dd")===e}catch{return!1}}(i)||!n||"object"!=typeof n)continue;let e=n.state,r=n.note;if(!(0===e||1===e||2===e||3===e||4===e||5===e))continue;let s="string"==typeof r?r.slice(0,50):"";(0!==e||""!==s.trim())&&(t[i]={state:e,note:s})}return t}let aC=af("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),aA=af("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),a_=af("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),aE=af("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]),az=af("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),aO=af("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function aF({viewMode:e,setViewMode:t,anchorISO:i,setAnchorISO:n,rangeStart:r,rangeEnd:s,now:o,showFilters:l,setShowFilters:u,highlightWeekends:d,setHighlightWeekends:h,highlightHolidays:c,setHighlightHolidays:m,highlightThisMonth:p,setHighlightThisMonth:f,noteOnly:g,setNoteOnly:y,recordFilter:x,setRecordFilter:v,ranges:b,activeRangeId:w,setActiveRangeId:S,activeRange:D,isEditingRange:M,setIsEditingRange:j,isRangeEditing:k,rangeDraftName:T,setRangeDraftName:N,rangeDraftColor:P,setRangeDraftColor:C,rangeDraftStartISO:A,setRangeDraftStartISO:_,rangeDraftEndISO:E,setRangeDraftEndISO:z,rangeDraftValid:O,rangeDraftSaving:F,setRangeDraftSaving:R,setTooltip:I,setSelectedISODate:$,deleteActiveRange:V,applyRangeDraftToActive:Y,cancelCreateRange:L,customStartISO:B,setCustomStartISO:W,customEndISO:U,setCustomEndISO:q,stateFilters:K,toggleStateFilter:Z,noteQuery:J,setNoteQuery:ee,clearFilters:et,exportData:ei,triggerImport:en,openRangeNav:er}){return(0,a.jsxs)("div",{className:"flex flex-col items-end gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center rounded-lg border border-zinc-200/60 bg-zinc-100/60 p-1 shadow-sm",children:["year","month","week","range"].map(i=>a.jsx("button",{type:"button",className:`rounded-md px-4 py-2 text-sm font-medium transition-all ${e===i?"bg-emerald-600 text-white shadow-sm":"text-zinc-500 hover:bg-zinc-100/80 hover:text-zinc-900"}`,onClick:()=>{if(I(null),$(null),t(i),("month"===i||"week"===i||"year"===i)&&n(H(o,"yyyy-MM-dd")),"range"===i){let e=D?.startISO??B,t=D?.endISO??U;_(e),z(t),N(D?.name??""),j(!1)}"year"!==i&&f(!1)},children:"year"===i?"年":"month"===i?"月":"week"===i?"周":"区间"},i))}),a.jsx("button",{type:"button",onClick:()=>u(!l),className:`rounded-lg border p-2.5 transition-all ${l?"border-emerald-600 bg-emerald-600 text-white shadow-md":"border-zinc-200/60 bg-white text-zinc-500 shadow-sm hover:border-emerald-600/50 hover:text-zinc-900"}`,children:a.jsx(aC,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-4",children:["year"===e&&a.jsx("div",{className:"flex h-10 items-center rounded-lg border border-zinc-200/60 bg-white px-4 text-sm font-medium text-zinc-900 shadow-sm",children:H(r,"yyyy年")}),("month"===e||"week"===e)&&(0,a.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border border-zinc-200/60 bg-zinc-100/60 p-1 shadow-sm",children:[a.jsx("button",{type:"button",className:"rounded-md p-2 text-zinc-500 transition-colors hover:bg-white hover:text-zinc-900",onClick:()=>{n(H("month"===e?X(Q(i),-1):G(Q(i),-7,void 0),"yyyy-MM-dd"))},children:a.jsx(aA,{className:"h-4 w-4"})}),a.jsx("span",{className:"min-w-[132px] px-1 text-center text-sm font-medium tabular-nums text-zinc-900",children:"month"===e?H(r,"yyyy年MM月"):`${H(r,"MM.dd")} - ${H(s,"MM.dd")}`}),a.jsx("button",{type:"button",className:"rounded-md p-2 text-zinc-500 transition-colors hover:bg-white hover:text-zinc-900",onClick:()=>{n(H("month"===e?X(Q(i),1):G(Q(i),7,void 0),"yyyy-MM-dd"))},children:a.jsx(a_,{className:"h-4 w-4"})}),a.jsx("div",{className:"mx-1 h-5 w-px bg-zinc-200"}),a.jsx("button",{type:"button",className:"rounded-md px-3 py-2 text-sm text-zinc-600 transition-colors hover:bg-white hover:text-zinc-900",onClick:()=>n(H(o,"yyyy-MM-dd")),children:"回到当前"})]}),"range"===e&&(b.length>0||M)&&(0,a.jsxs)("div",{className:"relative flex flex-col items-end gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>er?.(),className:"flex items-center gap-2 rounded-lg border border-zinc-200/60 bg-white pl-4 pr-3 py-2 text-sm font-medium text-zinc-900 shadow-sm transition-all hover:bg-zinc-50 active:scale-[0.98] lg:hidden",children:[a.jsx("span",{className:"truncate max-w-[120px]",children:"我的篇章"}),a.jsx(a_,{className:"h-4 w-4 text-zinc-400 rotate-90"})]}),(0,a.jsxs)("button",{type:"button",disabled:!w||M,className:"flex items-center gap-2 rounded-lg border border-zinc-200/60 bg-white px-3 py-2 text-sm font-medium text-zinc-700 shadow-sm transition-all hover:bg-zinc-50 hover:text-zinc-900 disabled:bg-zinc-50 disabled:text-zinc-400",onClick:()=>{if(!w)return;let e=b.find(e=>e.id===w);e&&(S(e.id),N(e.name),_(e.startISO),z(e.endISO),C(e.color||"emerald"),j(!0),R(!1))},title:"编辑",children:[a.jsx(ax,{className:"h-4 w-4"}),"编辑"]})]}),M&&(0,a.jsxs)("div",{className:"absolute top-full right-0 z-30 mt-2 flex w-[600px] max-w-[90vw] flex-col gap-4 rounded-xl border border-zinc-200/60 bg-white p-4 shadow-xl animate-in fade-in slide-in-from-top-2 duration-200",children:[a.jsx("div",{className:"flex flex-wrap items-center gap-3",children:a.jsx("input",{type:"text",className:"h-10 flex-1 rounded-lg border border-zinc-200 bg-white px-3 text-sm text-zinc-900 outline-none transition focus:border-emerald-600/40 focus:ring-2 focus:ring-emerald-600/15",placeholder:"名称",value:T,onChange:e=>N(e.target.value)})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 px-1",children:[a.jsx("span",{className:"text-sm font-medium text-zinc-500",children:"主题色"}),a.jsx("div",{className:"flex items-center gap-2",children:["emerald","blue","rose","amber","violet","cyan"].map(e=>a.jsx("button",{type:"button",onClick:()=>C(e),className:`h-6 w-6 rounded-full border border-white shadow-sm ring-1 ring-inset transition-transform ${P===e?"ring-zinc-900 scale-110":"ring-zinc-200 hover:scale-105"} ${"emerald"===e?"bg-emerald-500":"blue"===e?"bg-blue-500":"rose"===e?"bg-rose-500":"amber"===e?"bg-amber-500":"violet"===e?"bg-violet-500":"bg-cyan-500"}`},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-1 items-center gap-2 rounded-lg border border-zinc-200 bg-zinc-50/50 p-1",children:[a.jsx("input",{type:"date",className:"h-9 w-full min-w-0 bg-transparent px-2 text-sm text-zinc-900 outline-none",value:A,onChange:e=>{let t=e.target.value;_(t),null===w&&k&&t&&((!B||t<B)&&W(t),E&&(!U||E>U)&&q(E))}}),a.jsx("span",{className:"text-zinc-400",children:"-"}),a.jsx("input",{type:"date",className:"h-9 w-full min-w-0 bg-transparent px-2 text-sm text-zinc-900 outline-none",value:E,onChange:e=>{let t=e.target.value;z(t),null===w&&k&&t&&((!U||t>U)&&q(t),A&&(!B||A<B)&&W(A))}})]}),(0,a.jsxs)("button",{type:"button",disabled:!O||F,className:"flex h-11 items-center gap-2 rounded-lg bg-emerald-600 px-6 text-sm font-medium text-white shadow-sm transition-colors hover:bg-emerald-700 disabled:bg-zinc-100 disabled:text-zinc-400",onClick:()=>{F||(R(!0),Y(),j(!1))},title:"保存",children:[a.jsx(ay,{className:"h-4 w-4"}),"保存"]}),null===w&&(0,a.jsxs)("button",{type:"button",disabled:F,className:"flex h-11 items-center gap-2 rounded-lg border border-zinc-200 bg-white px-4 text-sm font-medium text-zinc-600 transition-colors hover:bg-zinc-50 hover:text-zinc-900 disabled:opacity-40",onClick:L,title:"取消创建",children:[a.jsx(ag,{className:"h-4 w-4"}),"取消"]}),a.jsx("button",{type:"button",disabled:!w||b.length<=1,className:"flex h-11 w-11 items-center justify-center rounded-lg border border-zinc-200 bg-white text-zinc-600 transition-colors hover:bg-zinc-50 hover:text-zinc-900 disabled:opacity-40",onClick:V,title:b.length<=1?"至少保留一个区间":"删除",children:a.jsx(ab,{className:"h-4 w-4"})})]}),null===w&&""===A&&""===E&&a.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[a.jsx(aE,{className:"mt-0.5 h-4 w-4 text-amber-700"}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-xs font-medium text-amber-900",children:"拖拽选择时间"}),a.jsx("div",{className:"mt-0.5 text-[11px] leading-4 text-amber-900/80",children:"在日历上按住鼠标拖拽，可自动填入开始/结束日期。"})]})]})})]})]})]}),l&&(0,a.jsxs)("div",{className:"mb-6 mt-6 rounded-xl border border-zinc-200/60 bg-white p-4 shadow-sm animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-medium text-zinc-900",children:"筛选选项"}),a.jsx("button",{type:"button",className:"text-zinc-400 transition-colors hover:text-zinc-700",onClick:()=>u(!1),"aria-label":"关闭筛选",children:a.jsx(ag,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-6",children:[(0,a.jsxs)("label",{className:"group flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:e=>h(e.target.checked),className:"h-4 w-4 cursor-pointer rounded border-zinc-300 bg-white accent-emerald-600"}),a.jsx("span",{className:"cursor-pointer text-sm text-zinc-900 transition-colors group-hover:text-emerald-700",children:"显示周末"})]}),(0,a.jsxs)("label",{className:"group flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:c,onChange:e=>m(e.target.checked),className:"h-4 w-4 cursor-pointer rounded border-zinc-300 bg-white accent-emerald-600"}),a.jsx("span",{className:"cursor-pointer text-sm text-zinc-900 transition-colors group-hover:text-emerald-700",children:"显示节假日"})]}),"year"===e&&(0,a.jsxs)("label",{className:"group flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:e=>f(e.target.checked),className:"h-4 w-4 cursor-pointer rounded border-zinc-300 bg-white accent-emerald-600"}),a.jsx("span",{className:"cursor-pointer text-sm text-zinc-900 transition-colors group-hover:text-emerald-700",children:"高亮本月"})]}),(0,a.jsxs)("label",{className:"group flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:g,onChange:e=>y(e.target.checked),className:"h-4 w-4 cursor-pointer rounded border-zinc-300 bg-white accent-emerald-600"}),a.jsx("span",{className:"cursor-pointer text-sm text-zinc-900 transition-colors group-hover:text-emerald-700",children:"仅有备注"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-zinc-500",children:"记录:"}),(0,a.jsxs)("select",{value:x,onChange:e=>v(e.target.value),className:"rounded-lg border border-zinc-200 bg-white px-3 py-1.5 text-sm text-zinc-900 outline-none transition focus:border-emerald-600/40 focus:ring-2 focus:ring-emerald-600/15",children:[a.jsx("option",{value:"all",children:"全部"}),a.jsx("option",{value:"recorded",children:"已记录"}),a.jsx("option",{value:"unrecorded",children:"未记录"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-zinc-500",children:"体感:"}),a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>{let t=K.includes(e);return a.jsx("button",{type:"button","aria-pressed":t,className:`flex h-8 w-8 items-center justify-center rounded-lg border text-sm transition-colors ${t?"border-emerald-600 bg-emerald-600 text-white":"border-zinc-200 bg-white text-zinc-600 hover:bg-zinc-50 hover:text-zinc-900"}`,onClick:()=>Z(e),title:ed[e].label,children:ed[e].emoji},e)})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-zinc-500",children:"备注:"}),a.jsx("input",{type:"text",className:"w-[18ch] rounded-lg border border-zinc-200 bg-white px-3 py-1.5 text-sm text-zinc-900 outline-none transition focus:border-emerald-600/40 focus:ring-2 focus:ring-emerald-600/15",placeholder:"搜备注",value:J,onChange:e=>ee(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",className:"rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm text-zinc-600 transition-colors hover:bg-zinc-50 hover:text-zinc-900",onClick:et,children:"清除"}),(0,a.jsxs)("button",{type:"button",className:"flex items-center gap-2 rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm text-zinc-600 transition-colors hover:bg-zinc-50 hover:text-zinc-900",onClick:ei,children:[a.jsx(az,{className:"h-4 w-4"}),"导出"]}),(0,a.jsxs)("button",{type:"button",className:"flex items-center gap-2 rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm text-zinc-600 transition-colors hover:bg-zinc-50 hover:text-zinc-900",onClick:en,children:[a.jsx(aO,{className:"h-4 w-4"}),"导入"]})]})]})]})]})}function aR({visible:e,onDismiss:t}){return e?a.jsx("div",{className:"absolute left-1/2 top-full z-40 mt-2 w-full max-w-[320px] -translate-x-1/2 rounded-xl border border-zinc-200 bg-white p-3 shadow-xl md:max-w-[400px]",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs font-medium text-zinc-900",children:"点击格子记录体感（1–5）"}),a.jsx("div",{className:"mt-1 text-[10px] text-zinc-500",children:"支持添加备注，或使用过滤功能快速查看特定日期"})]}),a.jsx("button",{type:"button",className:"text-zinc-400 hover:text-zinc-600",onClick:t,children:a.jsx(ag,{className:"h-3.5 w-3.5"})})]})}):null}function aI({onStartNewRange:e}){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-dashed border-zinc-200 bg-zinc-50/50 py-24 text-center",children:[a.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:a.jsx(aw,{className:"h-8 w-8"})}),a.jsx("h3",{className:"mb-2 text-lg font-medium text-zinc-900",children:"开始你的第一个区间"}),a.jsx("p",{className:"mb-6 max-w-sm text-sm text-zinc-500",children:"区间可以是一段旅行、一个项目周期、或者任何你想特别标记的时间段。"}),(0,a.jsxs)("button",{type:"button",onClick:e,className:"inline-flex items-center gap-2 rounded-lg bg-emerald-500 px-5 py-2.5 text-sm font-medium text-white shadow-sm transition-all hover:bg-emerald-600 hover:shadow-md active:scale-[0.98]",children:[a.jsx(aw,{className:"h-4 w-4"}),"创建新区间"]})]})}let a$=[{label:"已过",color:"#D8E9E4",border:!1,type:"static"},{label:"今天",color:"#009C7B",border:!1,type:"static"},{label:"未来",color:"#EEF3F4",border:!0,type:"static"},{label:"周末",color:"#D2D5F2",border:!1,type:"toggle",key:"weekend"},{label:"节假日",color:"#FFB4AD",border:!1,type:"toggle",key:"holiday"},{label:"已标记",color:"#7BC27E",border:!1,type:"static"}];function aV({showWeekends:e=!1,onToggleWeekends:t,showHolidays:i=!1,onToggleHolidays:n}){return(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-x-2 gap-y-2 text-sm",children:[a.jsx("span",{className:"text-xs font-medium text-zinc-500 mr-2",children:"图例:"}),a$.map(r=>{if("toggle"===r.type){let s="weekend"===r.key?e:i,o="weekend"===r.key?t:n;return(0,a.jsxs)("button",{type:"button",onClick:o,disabled:!o,"aria-pressed":s,className:`flex items-center gap-2 rounded-md px-2 py-1 transition-all ${s?"bg-zinc-100 ring-1 ring-zinc-200 shadow-sm":"hover:bg-zinc-50 opacity-60 grayscale"} ${o?"":"cursor-not-allowed opacity-40 grayscale-0"}`,children:[a.jsx("div",{className:`h-3.5 w-3.5 rounded ${r.border?"border border-zinc-200":""}`,style:{backgroundColor:r.color}}),a.jsx("span",{className:`text-xs ${s?"text-zinc-900 font-medium":"text-zinc-500"}`,children:r.label})]},r.label)}return(0,a.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1",children:[a.jsx("div",{className:`h-3.5 w-3.5 rounded ${r.border?"border border-zinc-200":""}`,style:{backgroundColor:r.color}}),a.jsx("span",{className:"text-xs text-zinc-500",children:r.label})]},r.label)})]})}function aY({range:e,now:t}){let i=aS[e.color||"emerald"]||aS.emerald,n=(0,o.useMemo)(()=>{let i,n;if(!e.startISO||!e.endISO)return null;try{if(i=w(Q(e.startISO)),n=w(Q(e.endISO)),isNaN(i.getTime())||isNaN(n.getTime()))return null}catch{return null}let r=w(t),s=S(n,i)+1,a=0;q(r,i)&&(a=S(r,i)),eu(r,i)&&(a=0),q(r,n)&&(a=s);let o=0;eu(r,i)||q(r,n)||(o=S(r,i)+1);let l=s-a,u=0;if(q(r,n))u=100;else if(eu(r,i))u=0;else{let e=el(eo(n),i),r=el(t,i);u=e<=0?100:Math.min(100,Math.max(0,r/e*100))}return{totalDays:s,daysPassed:a,daysRemaining:l,progressPercent:u,isEnded:q(r,n),isUpcoming:eu(r,i),currentDayIndex:o,formattedStart:H(i,"yyyy.MM.dd"),formattedEnd:H(n,"yyyy.MM.dd")}},[e,t]);return n?(0,a.jsxs)("div",{className:"mb-8 flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-zinc-900 flex items-center gap-2",children:[e.name,n.isEnded&&a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-zinc-100 text-zinc-500 font-medium",children:"已结束"}),n.isUpcoming&&a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-50 text-blue-600 font-medium",children:"未开始"}),!n.isEnded&&!n.isUpcoming&&a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${i.progressTag}`,children:"进行中"})]}),(0,a.jsxs)("div",{className:"text-sm text-zinc-500 mt-1 font-medium tabular-nums",children:[n.formattedStart," - ",n.formattedEnd,a.jsx("span",{className:"mx-2",children:"\xb7"}),"共 ",n.totalDays," 天"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[!n.isUpcoming&&!n.isEnded&&(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-zinc-500",children:"已过"}),(0,a.jsxs)("div",{className:"text-2xl font-bold tabular-nums text-emerald-600",children:[n.daysPassed,a.jsx("span",{className:"text-sm font-normal text-zinc-400 ml-1",children:"天"})]})]}),!n.isUpcoming&&!n.isEnded&&(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-zinc-500",children:"剩余"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-zinc-900 tabular-nums",children:[n.daysRemaining,a.jsx("span",{className:"text-sm font-normal text-zinc-400 ml-1",children:"天"})]})]}),n.isUpcoming&&(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-zinc-500",children:"距离开始"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600 tabular-nums",children:[S(Q(e.startISO),t),a.jsx("span",{className:"text-sm font-normal text-zinc-400 ml-1",children:"天"})]})]})]})]}),(0,a.jsxs)("div",{className:"relative h-4 w-full overflow-hidden rounded-full bg-zinc-100",children:[a.jsx(ad.div,{className:`absolute inset-y-0 left-0 bg-gradient-to-r ${i.progressBarFrom} ${i.progressBarTo}`,initial:{width:0},animate:{width:`${n.progressPercent}%`},transition:{duration:1,ease:"easeOut"}}),a.jsx("div",{className:"absolute inset-0 opacity-10 bg-[length:10px_10px] bg-[linear-gradient(45deg,rgba(255,255,255,0.5)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.5)_50%,rgba(255,255,255,0.5)_75%,transparent_75%,transparent)]"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs font-medium text-zinc-400 mt-[-16px]",children:[a.jsx("span",{children:"0%"}),(0,a.jsxs)("span",{className:`tabular-nums ${i.progressText}`,children:[n.progressPercent.toFixed(3),"%"]}),a.jsx("span",{children:"100%"})]})]}):null}function aL({viewMode:e,activeRange:t,rangeStart:i,now:n,isEditingRange:r,rangeDraftName:s,highlightWeekends:l,setHighlightWeekends:u,highlightHolidays:d,setHighlightHolidays:h}){let[c,m]=(0,o.useState)(!1);return"range"===e&&t&&!r?(0,a.jsxs)("div",{className:"mb-6 space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsx(aV,{showWeekends:l,onToggleWeekends:()=>u(!l),showHolidays:d,onToggleHolidays:()=>h(!d)})}),c?a.jsx("div",{className:"text-xs text-zinc-500",children:"篇章：自定义一段时间范围，用来做目标、阶段或倒数。"}):null,a.jsx(aY,{range:t,now:n})]}):(0,a.jsxs)("div",{className:"mb-6 flex flex-wrap items-start justify-between gap-4",children:[a.jsx("div",{className:"text-xl font-semibold text-zinc-900",children:"year"===e?H(i,"yyyy年"):"month"===e?H(i,"M月"):"week"===e?"本周":(r?s:t?.name)?.trim()||"区间"}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[a.jsx(aV,{showWeekends:l,onToggleWeekends:()=>u(!l),showHolidays:d,onToggleHolidays:()=>h(!d)}),"range"===e&&c?a.jsx("div",{className:"text-xs text-zinc-500",children:"篇章：自定义一段时间范围，用来做目标、阶段或倒数。"}):null]})]})}function aB({holidays:e,initialNowISO:t}){let[i,n]=(0,o.useState)(!1),r=(0,o.useRef)(null),s=(0,o.useRef)(null),l=(0,o.useRef)(null),u=(0,o.useRef)(null);(0,o.useRef)(null);let d=(0,o.useRef)(null),[h,c]=(0,o.useState)(null),m=(0,o.useRef)(null),[p,g]=(0,o.useState)(null),v=(0,o.useRef)(null),{viewMode:j,setViewMode:k,anchorISO:T,setAnchorISO:N,customStartISO:P,setCustomStartISO:C,customEndISO:A,setCustomEndISO:_,ranges:E,setRanges:z,activeRangeId:O,setActiveRangeId:F,activeRange:R,rangeDraftStartISO:I,setRangeDraftStartISO:$,rangeDraftEndISO:V,setRangeDraftEndISO:Y,rangeDraftName:L,setRangeDraftName:B,entries:W,selectedISODate:U,setSelectedISODate:Z,focusedISODate:J,setFocusedISODate:ee,highlightWeekends:et,setHighlightWeekends:ei,highlightHolidays:en,setHighlightHolidays:er,highlightThisMonth:es,setHighlightThisMonth:ed,recordFilter:eh,setRecordFilter:ef,noteOnly:eg,setNoteOnly:ey,stateFilters:ex,noteQuery:ev,setNoteQuery:eb,guideDismissed:ew,showFilters:eS,setShowFilters:eD,isEditingRange:eM,setIsEditingRange:ej,isRangeEditing:ek,isCreatingRange:eT,rangeDraftColor:eN,setRangeDraftColor:eP,rangeDraftSaving:eC,setRangeDraftSaving:eA,rangeDraftValid:e_,dragStartISO:eE,setDragStartISO:ez,dragCurrentISO:eO,setDragCurrentISO:eF,isDragging:eR,setIsDragging:eI,setIOStatus:e$,applyRangeDraftToActive:eV,deleteActiveRange:eY,beginCreateRange:eL,cancelCreateRange:eB,toggleStateFilter:eW,clearFilters:eU,exportData:eH,dismissGuide:eq,startNewRange:eG,updateEntry:eX,deleteEntry:eK}=function({initialNowISO:e}){let[t,i]=(0,o.useState)("month"),[n,r]=(0,o.useState)(()=>H(new Date,"yyyy-MM-dd")),[s,a]=(0,o.useState)(""),[l,u]=(0,o.useState)(""),[d,h]=(0,o.useState)([]),[c,m]=(0,o.useState)(null),[p,f]=(0,o.useState)(""),[g,y]=(0,o.useState)(""),[x,v]=(0,o.useState)(""),[b,S]=(0,o.useState)(!1),[D,M]=(0,o.useState)(!1),[j,k]=(0,o.useState)({}),[T,N]=(0,o.useState)(!1),[P,C]=(0,o.useState)(null),[A,_]=(0,o.useState)(null),[E,z]=(0,o.useState)(!0),[O,F]=(0,o.useState)(!0),[R,I]=(0,o.useState)(!1),[$,V]=(0,o.useState)("all"),[Y,L]=(0,o.useState)(!1),[B,W]=(0,o.useState)([]),[U,X]=(0,o.useState)(""),[K,Z]=(0,o.useState)(!0),[J,ee]=(0,o.useState)(!1),[et,ei]=(0,o.useState)(!1),[en,er]=(0,o.useState)("emerald"),[es,ea]=(0,o.useState)(!1),[eo,el]=(0,o.useState)(null),[eu,ed]=(0,o.useState)(null),[eh,ec]=(0,o.useState)(!1),[em,ep]=(0,o.useState)(null);(0,o.useRef)(null);let ef=(0,o.useRef)(null),eg=(0,o.useRef)(null),ey=(0,o.useRef)(null),ex=(0,o.useMemo)(()=>c?d.find(e=>e.id===c)??null:null,[c,d]),ev="range"===t&&et,eb=ev&&null===c,ew=(0,o.useMemo)(()=>{try{let e=w(Q(p)),t=w(Q(g));return!q(e,t)}catch{return!1}},[g,p]),eS=(0,o.useCallback)(()=>{if(!ew)return;a(p),u(g);let e=x.trim()||"新篇章";if(!c){let t=`range_${Date.now()}`;h(i=>{let n=aN(e,i);return[...i,{id:t,name:n,startISO:p,endISO:g,color:en}]}),m(t);return}h(t=>t.map(t=>t.id===c?{...t,name:e,startISO:p,endISO:g,color:en}:t))},[c,en,g,x,p,ew]),eD=(0,o.useCallback)(()=>{if(!c)return;let e=d.findIndex(e=>e.id===c);if(e<0)return;let t=d.filter(e=>e.id!==c),i=t.length>0?t[Math.min(e,t.length-1)]:null;h(t),m(i?.id??null),i?(a(i.startISO),u(i.endISO),f(i.startISO),y(i.endISO),v(i.name),k(i.entries||{})):k({}),ei(!1)},[c,d]),eM=(0,o.useCallback)(e=>{let t=w(new Date),i=e?.startISO??H(t,"yyyy-MM-dd"),n=e?.endISO??H(G(t,100),"yyyy-MM-dd");ef.current=c,e?.setVisibleDefault&&(eg.current=s,ey.current=l,a(i),u(n)),m(null),v(aN(e?.name?.trim()||"新篇章",d)),f(e?.prefillDraft?i:""),y(e?.prefillDraft?n:""),er("emerald"),ei(!0),ea(!1)},[c,l,s,d]),ej=(0,o.useCallback)(()=>{ev&&null===c&&(ec(!1),el(null),ed(null),v(""),er("emerald"),ea(!1),ei(!1),m(ef.current),ef.current=null,eg.current&&ey.current&&(a(eg.current),u(ey.current)),eg.current=null,ey.current=null)},[c,ev]),ek=(0,o.useCallback)(e=>{0!==e&&W(t=>{let i=t.includes(e)?t.filter(t=>t!==e):[...t,e];return i.sort((e,t)=>e-t),i})},[]),eT=(0,o.useCallback)(()=>{z(!0),F(!0),I(!1),V("all"),L(!1),W([]),X("")},[]),eN=(0,o.useCallback)(()=>{let e=new Blob([JSON.stringify({version:1,exportedAtISO:new Date().toISOString(),entries:j,ranges:d,viewPref:{mode:t,anchorISO:n,customStartISO:s,customEndISO:l,activeRangeId:c},guideDismissed:K},null,2)],{type:"application/json;charset=utf-8"}),i=URL.createObjectURL(e),r=document.createElement("a");r.href=i,r.download=`yeargrid_backup_${H(new Date,"yyyyMMdd_HHmmss")}.json`,document.body.appendChild(r),r.click(),r.remove(),window.setTimeout(()=>URL.revokeObjectURL(i),5e3),ep({kind:"ok",message:"已导出备份文件。"})},[c,n,l,s,j,K,d,t]),eP=(0,o.useCallback)(async e=>{let t=e.target.files?.[0]??null;if(e.target.value="",!t)return;if(t.size>5242880){ep({kind:"error",message:"导入失败：文件过大（请使用 5MB 以内）。"});return}let n="";try{n=await t.text()}catch{ep({kind:"error",message:"导入失败：无法读取文件内容。"});return}let s=function(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}(n);if(!s||"object"!=typeof s){ep({kind:"error",message:"导入失败：文件不是有效的 JSON 对象。"});return}let o=aP(s.entries??s),l=function(e){if(!Array.isArray(e))return null;let t=[];for(let i of e){if(!i||"object"!=typeof i)continue;let e=i.id,n=i.name,r=i.startISO,s=i.endISO,a=i.color,o=i.entries;if("string"!=typeof e||"string"!=typeof r||"string"!=typeof s)continue;let l="string"==typeof n?n.trim():"";try{let e=w(Q(r)),t=w(Q(s));if(q(e,t))continue}catch{continue}let u="emerald"===a||"blue"===a||"rose"===a||"amber"===a||"violet"===a||"zinc"===a?a:void 0,d=aP(o)??void 0;t.push({id:e,name:l||"区间",startISO:r,endISO:s,...u?{color:u}:{},...d?{entries:d}:{}})}if(0===t.length)return[];let i=new Set,n=new Set,r=[];for(let e of t){let t=e.id.trim()||`range_${Date.now()}`,s=t;for(;i.has(s);)s=`${t}_${Math.floor(1e5*Math.random())}`;i.add(s);let a=e.name.trim()||"区间",o=a;if(n.has(o)){let e=2;for(;n.has(`${a}-${e}`);)e+=1;o=`${a}-${e}`}n.add(o),r.push({...e,id:s,name:o})}return r}(s.ranges),c=function(e){if(!e||"object"!=typeof e)return null;let t=e.mode,i=e.anchorISO,n=e.customStartISO,r=e.customEndISO,s=e.activeRangeId,a={mode:"year"===t||"month"===t||"week"===t||"range"===t?t:null,anchorISO:"string"==typeof i?i:null,customStartISO:"string"==typeof n?n:null,customEndISO:"string"==typeof r?r:null,activeRangeId:"string"==typeof s?s:null};return a.mode||a.anchorISO||a.customStartISO||a.customEndISO||a.activeRangeId?a:null}(s.viewPref??s),p=!!(o&&Object.keys(o).length>0),g=null!==l&&l.length>0,x="boolean"==typeof s.guideDismissed;if(!p&&!g&&!(null!==c)&&!x){ep({kind:"error",message:"导入失败：未识别到可用数据。"});return}let b=window.confirm("导入会覆盖本地数据。确定=覆盖；取消=合并。"),S=b?o??{}:{...j,...o??{}},D=l&&l.length>0?b?l:function(e,t){let i=new Set(e.map(e=>e.id)),n=new Set(e.map(e=>e.name.trim())),r=[...e];for(let e of t){let t=e.id;(!t||i.has(t))&&(t=`range_${Date.now()}_${Math.floor(1e5*Math.random())}`),i.add(t);let s=e.name.trim()||"区间";if(n.has(s)){let e=2;for(;n.has(`${s}-${e}`);)e+=1;s=`${s}-${e}`}n.add(s),r.push({...e,id:t,name:s})}return r}(d,l):d;if(k(S),l&&l.length>0&&h(D),b&&c){c.mode&&i(c.mode),c.anchorISO&&r(c.anchorISO);let e=c.activeRangeId?D.find(e=>e.id===c.activeRangeId)??null:null;e?(m(e.id),a(e.startISO),u(e.endISO),f(e.startISO),y(e.endISO),v(e.name)):c.customStartISO&&c.customEndISO&&(m(null),a(c.customStartISO),u(c.customEndISO),f(c.customStartISO),y(c.customEndISO),v(""))}"boolean"==typeof s.guideDismissed&&Z(s.guideDismissed),ei(!1),ep({kind:"ok",message:b?"导入完成：已覆盖本地数据。":"导入完成：已合并本地数据。"})},[j,d]);return{viewMode:t,setViewMode:i,anchorISO:n,setAnchorISO:r,customStartISO:s,setCustomStartISO:a,customEndISO:l,setCustomEndISO:u,ranges:d,setRanges:h,activeRangeId:c,setActiveRangeId:m,activeRange:ex,rangeDraftStartISO:p,setRangeDraftStartISO:f,rangeDraftEndISO:g,setRangeDraftEndISO:y,rangeDraftName:x,setRangeDraftName:v,entries:j,setEntries:k,selectedISODate:P,setSelectedISODate:C,focusedISODate:A,setFocusedISODate:_,highlightWeekends:E,setHighlightWeekends:z,highlightHolidays:O,setHighlightHolidays:F,highlightThisMonth:R,setHighlightThisMonth:I,recordFilter:$,setRecordFilter:V,noteOnly:Y,setNoteOnly:L,stateFilters:B,setStateFilters:W,noteQuery:U,setNoteQuery:X,guideDismissed:K,setGuideDismissed:Z,showFilters:J,setShowFilters:ee,isEditingRange:et,setIsEditingRange:ei,isRangeEditing:ev,isCreatingRange:eb,rangeDraftColor:en,setRangeDraftColor:er,rangeDraftSaving:es,setRangeDraftSaving:ea,rangeDraftValid:ew,dragStartISO:eo,setDragStartISO:el,dragCurrentISO:eu,setDragCurrentISO:ed,isDragging:eh,setIsDragging:ec,ioStatus:em,setIOStatus:ep,applyRangeDraftToActive:eS,deleteActiveRange:eD,beginCreateRange:eM,cancelCreateRange:ej,toggleStateFilter:ek,clearFilters:eT,exportData:eN,onImportFileChange:eP,dismissGuide:()=>{localStorage.setItem("yeargrid_guide_dismissed_v1","1"),Z(!0)},startNewRange:()=>{i("range"),eM({setVisibleDefault:!0})},updateEntry:(e,t,i)=>{k(n=>({...n,[e]:{state:t,note:i.slice(0,50),updatedAtISO:new Date().toISOString()}}))},deleteEntry:e=>{k(t=>{let i={...t};return delete i[e],i})}}}({initialNowISO:t}),{now:eQ,percent:eZ,remaining:eJ,days:e0,rangeStart:e1,rangeEnd:e2}=function(e,t,i){let[n,r]=(0,o.useState)(()=>t?new Date(t):new Date),s=i?.mode??"year",a=i?.anchorISO??"",l=(0,o.useMemo)(()=>{if(!a)return null;try{return Q(a)}catch{return null}},[a])??n,u=(0,o.useMemo)(()=>{switch(s){case"year":return D(l);case"month":return function(e,t){let i=x(e,void 0);return i.setDate(1),i.setHours(0,0,0,0),i}(l);case"week":return M(l,{weekStartsOn:1});case"range":if(!i?.customStartISO||!i?.customEndISO)return D(l);try{let e=w(Q(i.customStartISO)),t=w(Q(i.customEndISO));if(q(e,t))return D(l);return e}catch{return D(l)}}},[l,s,i?.customEndISO,i?.customStartISO]),d=(0,o.useMemo)(()=>{switch(s){case"year":return ea(l);case"month":return function(e,t){let i=x(e,void 0),n=i.getMonth();return i.setFullYear(i.getFullYear(),n+1,0),i.setHours(23,59,59,999),i}(l);case"week":return function(e,t){let i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??f.weekStartsOn??f.locale?.options?.weekStartsOn??0,n=x(e,t?.in),r=n.getDay();return n.setDate(n.getDate()+((r<i?-7:0)+6-(r-i))),n.setHours(23,59,59,999),n}(l,{weekStartsOn:1});case"range":if(!i?.customStartISO||!i?.customEndISO)return ea(l);try{let e=w(Q(i.customStartISO)),t=w(Q(i.customEndISO));if(q(e,t))return ea(l);return eo(t)}catch{return ea(l)}}},[l,s,i?.customEndISO,i?.customStartISO]),h=n.getFullYear(),c=n.getMonth(),m=n.getDate(),p=(0,o.useMemo)(()=>w(new Date(h,c,m)),[h,c,m]),g=(0,o.useMemo)(()=>Math.max(0,el(d,n)),[n,d]),v=(0,o.useMemo)(()=>(function(e){let t=Math.max(0,e);return{days:Math.floor(t/86400),hours:Math.floor(t%86400/3600),minutes:Math.floor(t%3600/60),seconds:t%60}})(g),[g]),S=(0,o.useMemo)(()=>{let e=el(d,u),t=el(eu(n,u)?u:q(n,d)?d:n,u);return e<=0?100:Math.min(100,Math.max(0,t/e*100))},[n,d,u]),j=(0,o.useMemo)(()=>{let t=function(e,t){let{start:i,end:n}=function(e,t){let[i,n]=b(e,t.start,t.end);return{start:i,end:n}}(void 0,e),r=+i>+n,s=r?+i:+n,a=r?n:i;a.setHours(0,0,0,0);let o=(void 0)??1;if(!o)return[];o<0&&(o=-o,r=!r);let l=[];for(;+a<=s;)l.push(y(i,a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return r?l.reverse():l}({start:u,end:d}),i=t.length;return t.map((t,n)=>{let r=n+1,s=!function(e,t,i){let[n,r]=b(void 0,e,t);return+w(n)==+w(r)}(t,p)?eu(t,p)?"past":"future":"today",a=`${H(t,"yyyy年MM月dd日")} \xb7 第${r}/${i}天`,o=H(t,"yyyy-MM-dd"),l=e?.[o],u=t.getMonth()+1,d=0===t.getDay()||6===t.getDay(),h=1===t.getDate();return{date:t,isoDate:o,month:u,isWeekend:d,isMonthStart:h,dayOfYear:r,state:s,daysLeft:Math.max(0,i-r),label:a,holiday:l}})},[e,d,u,p]);return{now:n,rangeStart:u,rangeEnd:d,mode:s,percent:S,remaining:v,days:j}}(e,t,{mode:j,anchorISO:T,customStartISO:P,customEndISO:A}),{columns:e5}=function(e){let{rootRef:t,headerRef:i,viewMode:n,daysCount:r}=e,[s,a]=(0,o.useState)(32),[l,u]=(0,o.useState)(void 0);return(0,o.useRef)(s),{columns:s,gridMaxWidth:l}}({rootRef:r,headerRef:s,viewMode:j,daysCount:e0.length}),{tooltip:e4,setTooltip:e6,tooltipRef:e3,clampPosition:e9}=function(e){let{getKey:t,margin:i=12}=e,[n,r]=(0,o.useState)(null),s=(0,o.useRef)(null),a=(0,o.useRef)(null);return(0,o.useRef)(null),(0,o.useMemo)(()=>n?t(n.data):null,[t,n]),{tooltip:n,setTooltip:r,tooltipRef:s,clampPosition:(0,o.useCallback)((e,t)=>{let n=a.current;if(!n)return{x:K(e,i,window.innerWidth-i),y:K(t,i,window.innerHeight-i)};let r=Math.max(i,window.innerWidth-i-n.w),s=Math.max(i,window.innerHeight-i-n.h);return{x:K(e,i,r),y:K(t,i,s)}},[i])}}({getKey:e=>e.isoDate}),e8=(0,o.useMemo)(()=>parseInt(t?.slice(0,4)||H(new Date,"yyyy")),[t]),e7=(0,o.useMemo)(()=>parseInt(t?.slice(5,7)||H(new Date,"MM"))-1,[t]),te=(0,o.useMemo)(()=>parseInt(t?.slice(8,10)||H(new Date,"dd")),[t]),tt=(0,o.useMemo)(()=>{let e=new Map;return e0.forEach((t,i)=>{e.set(t.isoDate,i)}),e},[e0]),ti=(0,o.useMemo)(()=>e7+1,[e7]),tn=(0,o.useMemo)(()=>w(new Date(e8,e7,te)),[e8,e7,te]),tr=(0,o.useMemo)(()=>eT?function({now:e,todayStart:t,dragStartISO:i,dragCurrentISO:n,isDragging:r,rangeDraftStartISO:s,rangeDraftEndISO:a}){let o=r&&i&&n&&i!==n?{startISO:i<n?i:n,endISO:i>n?i:n}:s&&a?{startISO:s,endISO:a}:null;if(!o)return null;try{let i=w(Q(o.startISO)),n=w(Q(o.endISO));if(q(i,n))return null;let r=eo(n),s=el(r,i),a=eu(e,i)?i:q(e,r)?r:e,l=el(a,i),u=Math.max(0,el(r,e)),d=`${Math.floor(u/86400)}天 ${Math.floor(u%86400/3600).toString().padStart(2,"0")}:${Math.floor(u%3600/60).toString().padStart(2,"0")}:${(u%60).toString().padStart(2,"0")}`,h=S(n,i)+1,c=eu(e,i)?0:q(e,r)?h:S(t,i)+1;return{startISO:o.startISO,endISO:o.endISO,percent:s<=0?100:Math.min(100,Math.max(0,l/s*100)),remainingText:d,elapsedDays:c,totalDays:h}}catch{return null}}({now:eQ,todayStart:tn,dragStartISO:eE,dragCurrentISO:eO,isDragging:eR,rangeDraftStartISO:I,rangeDraftEndISO:V}):null,[eO,eE,eT,eR,eQ,V,I,tn]),ts=(0,o.useCallback)(()=>{e$(null),d.current?.click()},[e$]),ta=(0,o.useMemo)(()=>`${Math.floor(eZ).toString()}%`,[eZ]),to=(0,o.useMemo)(()=>{let e=e0.findIndex(e=>"today"===e.state);if(e>=0)return e;if(0===e0.length)return 0;let t=e0[e0.length-1]?.date;return t&&q(eQ,t)?e0.length:0},[e0,eQ]),tl=(0,o.useMemo)(()=>{let e=eJ.hours.toString().padStart(2,"0"),t=eJ.minutes.toString().padStart(2,"0"),i=eJ.seconds.toString().padStart(2,"0");return`${eJ.days}天 ${e}:${t}:${i}`},[eJ.days,eJ.hours,eJ.minutes,eJ.seconds]),tu=(0,o.useMemo)(()=>U?e0.find(e=>e.isoDate===U)??null:null,[e0,U]),td=(0,o.useMemo)(()=>tu?W[tu.isoDate]??null:null,[W,tu]),{handleCellFocus:th,handleCellBlur:tc,handleCellHover:tm,handleCellMouseDown:tp,handleCellMouseUp:tf,handleCellMove:tg,handleCellLeave:ty,handleCellClick:tx,handleCellKeyDown:tv}=function({viewMode:e,isEditingRange:t,isRangeEditing:i,isDragging:n,setIsDragging:r,dragStartISO:s,setDragStartISO:a,dragCurrentISO:l,setDragCurrentISO:u,setSelectedISODate:d,setFocusedISODate:h,setTooltip:c,clampTooltipPosition:m,setRangeDraftStartISO:p,setRangeDraftEndISO:f,activeRangeId:g,customStartISO:y,setCustomStartISO:x,customEndISO:v,setCustomEndISO:b,days:w,dayIndexByISO:S,columns:D,focusCell:M}){let j=(0,o.useCallback)((e,t)=>{let i=t.currentTarget.getBoundingClientRect(),{x:n,y:r}=m(i.right+12,i.top+12);c({data:e,x:n,y:r}),h(e.isoDate)},[m,c,h]),k=(0,o.useCallback)(e=>{c(t=>t?.data.isoDate===e.isoDate?null:t)},[c]),T=(0,o.useCallback)((e,t)=>{let{x:r,y:s}=m(t.clientX+12,t.clientY+12);c({data:e,x:r,y:s}),i&&n&&u(e.isoDate)},[m,n,i,c,u]),N=(0,o.useCallback)(i=>{"range"===e&&t&&(r(!0),a(i.isoDate),u(i.isoDate))},[t,e,r,a,u]),P=(0,o.useCallback)(e=>{if(!t||!n||!s)return;r(!1);let i=Q(s),o=Q(e.isoDate),l=eu(i,o)?s:e.isoDate,d=eu(i,o)?e.isoDate:s;if(l===d){a(null),u(null);return}p(l),f(d),null===g&&((!y||l<y)&&x(l),(!v||d>v)&&b(d)),a(null),u(null)},[g,v,y,s,n,t,r,a,u,p,f,x,b]),C=(0,o.useCallback)((e,t)=>{c(i=>{if(!i||i.data.isoDate!==e.isoDate)return i;let{x:n,y:r}=m(t.clientX+12,t.clientY+12);return{data:i.data,x:n,y:r}})},[m,c]),A=(0,o.useCallback)(()=>c(null),[c]),_=(0,o.useCallback)(i=>{"range"===e&&t||(h(i.isoDate),d(i.isoDate))},[t,e,h,d]),E=(0,o.useCallback)((e,t)=>{var i;if(("ArrowLeft"===t.key||"ArrowRight"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key||"Home"===t.key||"End"===t.key)&&t.preventDefault(),"Enter"===t.key||" "===t.key){t.preventDefault(),_(e);return}let n=S.get(e.isoDate);if(void 0===n)return;let r=null;if("ArrowLeft"===t.key&&(r=n-1),"ArrowRight"===t.key&&(r=n+1),"ArrowUp"===t.key&&(r=n-D),"ArrowDown"===t.key&&(r=n+D),"Home"===t.key&&(r=0),"End"===t.key&&(r=w.length-1),null===r)return;i=r,r=Math.min(w.length-1,Math.max(0,i));let s=w[r]?.isoDate;s&&(h(s),requestAnimationFrame(()=>M(s)))},[D,S,w,M,_,h]);return{handleCellFocus:j,handleCellBlur:k,handleCellHover:T,handleCellMouseDown:N,handleCellMouseUp:P,handleCellMove:C,handleCellLeave:A,handleCellClick:_,handleCellKeyDown:E}}({viewMode:j,isEditingRange:eM,isRangeEditing:ek,isDragging:eR,setIsDragging:eI,dragStartISO:eE,setDragStartISO:ez,dragCurrentISO:eO,setDragCurrentISO:eF,setSelectedISODate:Z,setFocusedISODate:ee,setTooltip:e6,clampTooltipPosition:e9,setRangeDraftStartISO:$,setRangeDraftEndISO:Y,activeRangeId:O,customStartISO:P,setCustomStartISO:C,customEndISO:A,setCustomEndISO:_,days:e0,dayIndexByISO:tt,columns:e5,focusCell:(0,o.useCallback)(e=>{let t=l.current;if(!t)return;let i=t.querySelector(`[data-iso="${e}"]`);i?.focus()},[])}),tb="year"===j&&es,tw=(0,o.useMemo)(()=>!ew&&0===Object.keys(W).length,[ew,W]),tS="month"===j||"week"===j||"range"===j?8:6,tD=(0,o.useCallback)(e=>{let t=E.find(t=>t.id===e);t&&(F(t.id),C(t.startISO),_(t.endISO),$(t.startISO),Y(t.endISO),B(t.name),ej(!1),n(!1))},[E,F,_,C,ej,Y,B,$]),tM=(0,o.useCallback)(()=>{eL({setVisibleDefault:!0}),n(!1)},[eL]),tj=(0,o.useCallback)(e=>{let t=w(eQ),i=H(t,"yyyy-MM-dd"),r=(()=>{switch(e){case"sprint_2w":return{name:"短期冲刺",end:G(t,13)};case"quarter_3m":return{name:"季度目标",end:G(X(t,3),-1,void 0)};default:return{name:"旅行倒数",end:G(t,6)}}})();eL({startISO:i,endISO:H(r.end,"yyyy-MM-dd"),setVisibleDefault:!0,prefillDraft:!0,name:r.name}),n(!1)},[eL,eQ]),tk=(0,o.useCallback)(e=>{F(e.id),B(e.name),$(e.startISO),Y(e.endISO),eP(e.color||"emerald"),ej(!0),eA(!1),n(!1)},[F,ej,eP,Y,B,eA,$]),tT=(0,o.useCallback)(e=>{let t=E.findIndex(t=>t.id===e);if(t<0)return;let i=E.filter(t=>t.id!==e);if(z(i),O===e){let e=i[Math.min(t,i.length-1)]??null;F(e?.id??null),e&&(C(e.startISO),_(e.endISO))}},[O,E,F,_,C,z]),tN=(0,o.useCallback)(e=>{let t=E.find(t=>t.id===e);if(!t)return;let i=`range_${Date.now()}`,n=aN(`${t.name} 副本`,E),r={...t,id:i,name:n};z(e=>[...e,r]),F(i),C(r.startISO),_(r.endISO)},[E,F,_,C,z]),tP=(0,o.useCallback)(e=>{c(e),null!==m.current&&window.clearTimeout(m.current),m.current=window.setTimeout(()=>{c(t=>t===e?null:t)},1200)},[]),tC=(0,o.useCallback)((e,t)=>{g({isoDate:e,entry:t}),null!==v.current&&window.clearTimeout(v.current),v.current=window.setTimeout(()=>{g(null)},5e3)},[]),tA=(0,o.useCallback)((e,t,i)=>{eX(e,t,i),tP(e)},[tP,eX]),t_=(0,o.useCallback)(e=>{let t=W[e]??null;eK(e),t&&tC(e,t)},[eK,W,tC]),tE=(0,o.useCallback)(()=>{p&&(tA(p.isoDate,p.entry.state,p.entry.note),g(null))},[tA,p]),tz=(0,o.useCallback)(e=>{let t=((W[e]?.state??0)+1)%6;if(0===t){eK(e),tP(e);return}tA(e,t,W[e]?.note??"")},[eK,W,tP,tA]),tO=(0,o.useCallback)((e,t)=>{if(t.shiftKey){if("range"===j&&eM)return;ee(e.isoDate),tz(e.isoDate);return}tx(e)},[tz,tx,eM,ee,j]);return(0,a.jsxs)("div",{ref:r,className:"relative flex w-full flex-col",children:[(0,a.jsxs)("header",{ref:s,className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[a.jsx(ep,{percent:eZ,percentText:ta,timeRemainingText:tl,elapsedDays:to,totalDays:e0.length,viewMode:j,rangeStart:e1,isCreatingRange:eT,createRangePreview:tr}),a.jsx(aF,{viewMode:j,setViewMode:k,anchorISO:T,setAnchorISO:N,rangeStart:e1,rangeEnd:e2,now:eQ,showFilters:eS,setShowFilters:eD,highlightWeekends:et,setHighlightWeekends:ei,highlightHolidays:en,setHighlightHolidays:er,highlightThisMonth:es,setHighlightThisMonth:ed,noteOnly:eg,setNoteOnly:ey,recordFilter:eh,setRecordFilter:ef,ranges:E,activeRangeId:O,setActiveRangeId:F,activeRange:R,isEditingRange:eM,setIsEditingRange:ej,isRangeEditing:ek,rangeDraftName:L,setRangeDraftName:B,rangeDraftColor:eN,setRangeDraftColor:eP,rangeDraftStartISO:I,setRangeDraftStartISO:$,rangeDraftEndISO:V,setRangeDraftEndISO:Y,rangeDraftValid:e_,rangeDraftSaving:eC,setRangeDraftSaving:eA,setTooltip:e6,setSelectedISODate:Z,deleteActiveRange:eY,applyRangeDraftToActive:eV,cancelCreateRange:eB,customStartISO:P,setCustomStartISO:C,customEndISO:A,setCustomEndISO:_,stateFilters:ex,toggleStateFilter:eW,noteQuery:ev,setNoteQuery:eb,clearFilters:eU,exportData:eH,triggerImport:ts,openRangeNav:()=>n(!0)})]}),a.jsx(aR,{visible:tw,onDismiss:eq})]}),a.jsx("div",{className:"w-full pb-12",children:"range"!==j||0!==E.length||eM?a.jsx("div",{className:"w-full rounded-2xl border border-zinc-200/60 bg-white p-6 shadow-sm",children:"range"===j?(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsx("div",{className:"hidden lg:block",children:a.jsx(aj,{variant:"sidebar",now:eQ,ranges:E,activeRangeId:O,onSelect:tD,onAdd:tM,onAddTemplate:tj,onEdit:tk,onDelete:tT,onDuplicate:tN})}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx(aL,{viewMode:j,activeRange:R,rangeStart:e1,now:eQ,isEditingRange:eM,rangeDraftName:L,highlightWeekends:et,setHighlightWeekends:ei,highlightHolidays:en,setHighlightHolidays:er}),a.jsx(aT,{viewMode:j,days:e0,columns:e5,gridGap:tS,entries:W,selectedISODate:U,focusedISODate:J,highlightWeekends:et,highlightHolidays:en,effectiveHighlightThisMonth:tb,currentMonth:ti,recordFilter:eh,noteOnly:eg,stateFilters:ex,noteQuery:ev,isDragging:eR,dragStartISO:eE,dragCurrentISO:eO,isRangeEditing:ek,rangeDraftColor:eN,rangeDraftStartISO:I,rangeDraftEndISO:V,onCellHover:tm,onCellMove:tg,onCellLeave:ty,onCellFocus:th,onCellBlur:tc,onCellKeyDown:tv,onCellClick:tO,onCellMouseDown:tp,onCellMouseUp:tf})]}),a.jsx(aj,{variant:"drawer",now:eQ,open:i,onOpenChange:n,ranges:E,activeRangeId:O,onSelect:tD,onAdd:tM,onAddTemplate:tj,onEdit:tk,onDelete:tT,onDuplicate:tN})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(aL,{viewMode:j,activeRange:R,rangeStart:e1,now:eQ,isEditingRange:eM,rangeDraftName:L,highlightWeekends:et,setHighlightWeekends:ei,highlightHolidays:en,setHighlightHolidays:er}),a.jsx(aT,{viewMode:j,days:e0,columns:e5,gridGap:tS,entries:W,selectedISODate:U,focusedISODate:J,highlightWeekends:et,highlightHolidays:en,effectiveHighlightThisMonth:tb,currentMonth:ti,recordFilter:eh,noteOnly:eg,stateFilters:ex,noteQuery:ev,isDragging:eR,dragStartISO:eE,dragCurrentISO:eO,isRangeEditing:ek,rangeDraftColor:eN,rangeDraftStartISO:I,rangeDraftEndISO:V,onCellHover:tm,onCellMove:tg,onCellLeave:ty,onCellFocus:th,onCellBlur:tc,onCellKeyDown:tv,onCellClick:tO,onCellMouseDown:tp,onCellMouseUp:tf})]})}):a.jsx(aI,{onStartNewRange:eG})}),p?a.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-[90vw]",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-xl border border-zinc-200/70 bg-white/90 px-4 py-3 text-sm text-zinc-900 shadow-[0_18px_60px_rgba(0,0,0,0.14)] backdrop-blur-xl",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium",children:"已删除记录"}),a.jsx("div",{className:"mt-0.5 text-xs text-zinc-500 tabular-nums",children:p.isoDate})]}),a.jsx("button",{type:"button",onClick:tE,className:"shrink-0 rounded-lg bg-zinc-900 px-3 py-1.5 text-xs font-medium text-white transition-colors hover:bg-zinc-800",children:"撤销"})]})}):null,e4?a.jsx(em,{tooltip:e4,tooltipRef:e3,todayStart:tn,entries:W}):null,tu?a.jsx(ec,{selectedDay:tu,selectedEntry:td,modalRef:u,onClose:()=>Z(null),activeStateButtonClass:e=>{switch(e){case 1:return"border-emerald-200 bg-emerald-50 text-emerald-700";case 2:return"border-blue-200 bg-blue-50 text-blue-700";case 3:return"border-rose-200 bg-rose-50 text-rose-700";case 4:return"border-amber-200 bg-amber-50 text-amber-700";case 5:return"border-violet-200 bg-violet-50 text-violet-700";default:return"border-zinc-900 bg-zinc-900 text-white"}},justSaved:h===tu.isoDate,onStateChange:e=>{tA(tu.isoDate,e,td?.note??"")},onNoteChange:e=>{tA(tu.isoDate,td?.state??0,e)},onDelete:()=>{t_(tu.isoDate),Z(null)}}):null]})}},2288:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l,revalidate:()=>a});var n=i(9510);let r=(0,i(8570).createProxy)(String.raw`C:\Users\York\Desktop\Project\my\YearGrid\components\YearGrid.tsx#default`);var s=i(4856);let a=3600;function o(e){let t={[`${e}-01-01`]:"元旦",[`${e}-10-01`]:"国庆"},i=s.getSolarDateFromLunar(`${e}-01-01`)?.date;i&&(t[i]="春节");let n=s.getSolarDateFromLunar(`${e}-05-05`)?.date;n&&(t[n]="端午");let r=s.getSolarDateFromLunar(`${e}-08-15`)?.date;r&&(t[r]="中秋");let a=s.getSolarTerms(`${e}-01-01`,`${e}-12-31`).find(e=>"清明"===e.name)?.date;return a&&(t[a]="清明"),t}function l(){var e;let t=new Date,i=t.toISOString(),s={...o((e=t.getFullYear())-1),...o(e),...o(e+1)};return n.jsx("main",{className:"app-container py-8",children:n.jsx(r,{holidays:s,initialNowISO:i})})}},4856:function(e,t){(function(e){"use strict";var t=Object.defineProperty,i=(e,i,n)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n,n=(e,t,n)=>i(e,"symbol"!=typeof t?t+"":t,n);let r=class e{constructor(t){n(this,"_date"),t instanceof e?this._date=new Date(t.toDate()):t instanceof Date?this._date=new Date(t):"string"==typeof t||"number"==typeof t?(this._date=new Date(t),"string"==typeof t&&isNaN(this._date.getTime())&&(this._date=new Date(t.replace(/-/g,"/")))):this._date=new Date}toDate(){return this._date}isValid(){return!isNaN(this._date.getTime())}diff(t,i="day"){let n=new e(t).toDate(),r=this._date.getTime()-n.getTime();switch(i){case"year":return this._date.getFullYear()-n.getFullYear();case"month":return(this._date.getFullYear()-n.getFullYear())*12+(this._date.getMonth()-n.getMonth());default:return Math.floor(r/864e5)}}startOf(t){let i=new Date(this._date);switch(t){case"year":i.setMonth(0),i.setDate(1),i.setHours(0,0,0,0);break;case"month":i.setDate(1),i.setHours(0,0,0,0);break;case"day":i.setHours(0,0,0,0)}return new e(i)}endOf(t){let i=new Date(this._date);switch(t){case"year":i.setMonth(11),i.setDate(31),i.setHours(23,59,59,999);break;case"month":i.setDate(new Date(i.getFullYear(),i.getMonth()+1,0).getDate()),i.setHours(23,59,59,999);break;case"day":i.setHours(23,59,59,999)}return new e(i)}add(t,i){let n=new Date(this._date);switch(i){case"year":n.setFullYear(n.getFullYear()+t);break;case"month":n.setMonth(n.getMonth()+t);break;case"day":n.setDate(n.getDate()+t)}return new e(n)}subtract(e,t){return this.add(-e,t)}format(t){let i={YYYY:this._date.getFullYear(),MM:(this._date.getMonth()+1).toString().padStart(2,"0"),DD:this._date.getDate().toString().padStart(2,"0"),HH:this._date.getHours().toString().padStart(2,"0"),mm:this._date.getMinutes().toString().padStart(2,"0"),ss:this._date.getSeconds().toString().padStart(2,"0"),dddd:e.daysOfWeek[this._date.getDay()]};return t.replace(/YYYY|MM|DD|HH|mm|ss|dddd/g,e=>i[e].toString())}year(t){if(void 0===t)return this._date.getFullYear();let i=new Date(this._date);return i.setFullYear(t),new e(i)}month(t){if(void 0===t)return this._date.getMonth();let i=new Date(this._date);return i.setMonth(t),new e(i)}date(t){if(void 0===t)return this._date.getDate();let i=new Date(this._date);return i.setDate(t),new e(i)}day(t){if(void 0===t)return this._date.getDay();{let i=this._date.getDay(),n=new Date(this._date);return n.setDate(this._date.getDate()+(t-i)),new e(n)}}isBefore(t){let i=new e(t).toDate();return this._date.getTime()<i.getTime()}isAfter(t){let i=new e(t).toDate();return this._date.getTime()>i.getTime()}isSame(t,i="day"){let n=new e(t).toDate();switch(i){case"year":return this._date.getFullYear()===n.getFullYear();case"month":return this._date.getFullYear()===n.getFullYear()&&this._date.getMonth()===n.getMonth();default:return this._date.getFullYear()===n.getFullYear()&&this._date.getMonth()===n.getMonth()&&this._date.getDate()===n.getDate()}}isBetween(t,i,n){let r=new e(t).startOf(n).toDate(),s=new e(i).endOf(n).toDate(),a=this.toDate();return a>=r&&a<=s}};n(r,"daysOfWeek",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);let s=e=>new r(e),a=e=>s(e).startOf("day"),o=(e,t)=>(e=a(e),Array.from({length:(t=a(t)).diff(e,"day")+1},(t,i)=>e.add(i,"day"))),l={1999:{"New Year's Day,元旦":1,"Spring Festival,春节":3,"Labour Day,劳动节":3,"National Day,国庆节":3},2008:{"Tomb-sweeping Day,清明":1,"Labour Day,劳动节":1,"Dragon Boat Festival,端午":1,"Mid-autumn Festival,中秋":1},2015:{"Anti-Fascist 70th Day,中国人民抗日战争暨世界反法西斯战争胜利70周年纪念日":1},2025:{"Spring Festival,春节":4,"Labour Day,劳动节":2}};class u{constructor(){n(this,"dayDetails",{}),n(this,"holidays",{}),n(this,"workdays",{}),n(this,"inLieuDays",{})}y(e){return this.dayDetails.year=e,this}getHolidayDays(e,t){let i=0;for(let[n,r]of Object.entries(l)){if(parseInt(n)>e)break;void 0!==r[t]&&(i=r[t])}return i}mark(e){return this.dayDetails.holiday=e,this}save(e,t,i){if(!this.dayDetails.year)throw Error("should set year before saving holiday");if(!this.dayDetails.holiday)throw Error("should set holiday before saving holiday");this.dayDetails.month=e,this.dayDetails.day=t,this.dayDetails.dayType=i;let n=s(`${this.dayDetails.year}-${e}-${t}`).format("YYYY-MM-DD"),r=this.getHolidayDays(this.dayDetails.year,this.dayDetails.holiday),a=`${this.dayDetails.holiday},${r}`;return 2===i?this.holidays[n]=a:1===i?this.workdays[n]=a:3===i&&(this.inLieuDays[n]=a),this}to(e,t){if(!this.dayDetails.holiday||!this.dayDetails.year||!this.dayDetails.month||!this.dayDetails.day)throw Error("should set year/month/day before saving holiday range");let i=s(`${this.dayDetails.year}-${this.dayDetails.month}-${this.dayDetails.day}`),n=s(`${this.dayDetails.year}-${e}-${t}`);if(n.isBefore(i)||n.isSame(i))throw Error("end date should be after start date");let r=this.getHolidayDays(this.dayDetails.year,this.dayDetails.holiday),a=`${this.dayDetails.holiday},${r}`,o=n.diff(i,"day");for(let e=1;e<=o;e++){let t=i.add(e,"day").format("YYYY-MM-DD");2===this.dayDetails.dayType?this.holidays[t]=a:1===this.dayDetails.dayType?this.workdays[t]=a:3===this.dayDetails.dayType&&(this.inLieuDays[t]=a)}return this}w(e,t){return this.save(e,t,1)}r(e,t){return this.save(e,t,2)}i(e,t){return this.save(e,t,3)}ny(){return this.mark("New Year's Day,元旦")}s(){return this.mark("Spring Festival,春节")}t(){return this.mark("Tomb-sweeping Day,清明")}l(){return this.mark("Labour Day,劳动节")}d(){return this.mark("Dragon Boat Festival,端午")}n(){return this.mark("National Day,国庆节")}m(){return this.mark("Mid-autumn Festival,中秋")}a(){return this.mark("Anti-Fascist 70th Day,中国人民抗日战争暨世界反法西斯战争胜利70周年纪念日")}}let{holidays:d,workdays:h,inLieuDays:c}=(()=>{let e=new u;return e.y(2026).ny().r(1,1).to(1,3).w(1,4).i(1,2).s().r(2,15).to(2,23).w(2,14).w(2,28).i(2,20).i(2,23).t().r(4,4).to(4,6).l().r(5,1).to(5,5).w(5,9).i(5,5).d().r(6,19).to(6,21).m().r(9,25).to(9,27).n().r(10,1).to(10,7).w(9,20).w(10,10).i(10,6).i(10,7),e.y(2025).ny().r(1,1).s().r(1,28).to(2,4).w(1,26).w(2,8).i(2,3).i(2,4).t().r(4,4).to(4,6).l().r(5,1).to(5,5).w(4,27).i(5,5).d().r(5,31).to(6,2).n().r(10,1).to(10,8).w(9,28).w(10,11).i(10,7).i(10,8).m().r(10,6),e.y(2024).ny().r(1,1).s().r(2,10).to(2,17).w(2,4).w(2,18).i(2,15).to(2,16).t().r(4,4).to(4,6).w(4,7).i(4,5).l().r(5,1).to(5,5).w(4,28).w(5,11).i(5,2).to(5,3).d().r(6,10).m().r(9,15).to(9,17).w(9,14).i(9,16).n().r(10,1).to(10,7).w(9,29).w(10,12).i(10,4).i(10,7),e.y(2023).ny().r(1,1).to(1,2).s().r(1,21).to(1,27).w(1,28).to(1,29).i(1,26).to(1,27).t().r(4,5).l().r(4,29).to(5,3).w(4,23).w(5,6).i(5,2).to(5,3).d().r(6,22).to(6,24).w(6,25).i(6,23).m().r(9,29).n().r(9,30).to(10,6).w(10,7).to(10,8).i(10,5).to(10,6),e.y(2022).ny().r(1,1).to(1,3).s().r(1,31).to(2,6).w(1,29).w(1,30).i(2,3).to(2,4).t().r(4,3).to(4,5).w(4,2).i(4,4).l().r(4,30).to(5,4).w(4,24).w(5,7).i(5,3).to(5,4).d().r(6,3).to(6,5).m().r(9,10).to(9,12).n().r(10,1).to(10,7).w(10,8).w(10,9).i(10,6).to(10,7).ny().r(12,31),e.y(2021).ny().r(1,1).to(1,3).s().r(2,11).to(2,17).w(2,7).w(2,20).i(2,16).to(2,17).t().r(4,3).to(4,5).l().r(5,1).to(5,5).w(4,25).w(5,8).i(5,4).to(5,5).d().r(6,12).to(6,14).m().r(9,19).to(9,21).w(9,18).i(9,20).n().r(10,1).to(10,7).w(9,26).w(10,9).i(10,6).to(10,7),e.y(2020).ny().r(1,1).s().r(1,24).to(2,2).w(1,19).i(1,29).t().r(4,4).to(4,6).l().r(5,1).to(5,5).w(4,26).w(5,9).i(5,4).to(5,5).d().r(6,25).to(6,27).w(6,28).i(6,26).n().r(10,1).to(10,8).w(9,27).w(10,10).i(10,7).to(10,8),e.y(2019).ny().r(1,1).s().r(2,4).to(2,10).w(2,2).to(2,3).i(2,4).i(2,8).t().r(4,5).to(4,7).l().r(5,1).to(5,4).w(4,28).w(5,5).i(5,2).i(5,3).d().r(6,7).to(6,9).m().r(9,13).to(9,15).n().r(10,1).to(10,7).w(9,29).w(10,12).i(10,4).i(10,7),e.y(2018).ny().r(1,1).s().r(2,15).to(2,21).w(2,11).w(2,24).i(2,19).to(2,21).t().r(4,5).to(4,7).w(4,8).i(4,6).l().r(4,29).to(5,1).w(4,28).i(4,30).d().r(6,18).n().r(10,1).to(10,7).w(9,29).to(9,30).i(10,4).to(10,5).m().r(9,24).ny().r(12,30).to(12,31).w(12,29).i(12,31),e.y(2017).ny().r(1,1).to(1,2).s().r(1,27).to(2,2).w(1,22).w(2,4).i(2,1).to(2,2).t().r(4,2).to(4,4).w(4,1).i(4,3).l().r(5,1).d().r(5,28).to(5,30).w(5,27).i(5,29).n().r(10,1).to(10,8).w(9,30).i(10,6).m().r(10,4),e.y(2016).ny().r(1,1).s().r(2,7).to(2,13).w(2,6).w(2,14).i(2,11).to(2,12).t().r(4,4).l().r(5,1).to(5,2).d().r(6,9).to(6,11).w(6,12).i(6,10).m().r(9,15).to(9,17).w(9,18).i(9,16).n().r(10,1).to(10,7).w(10,8).to(10,9).i(10,6).to(10,7),e.y(2015).ny().r(1,1).to(1,3).w(1,4).i(1,2).s().r(2,18).to(2,24).w(2,15).w(2,28).i(2,23).to(2,24).t().r(4,5).to(4,6).l().r(5,1).d().r(6,20).r(6,22).m().r(9,27).n().r(10,1).to(10,7).w(10,10).i(10,7).a().r(9,3).to(9,4).w(9,6).i(9,4),e.y(2014).ny().r(1,1).s().r(1,31).to(2,6).w(1,26).w(2,8).i(2,5).to(2,6).t().r(4,5).to(4,7).l().r(5,1).to(5,3).w(5,4).i(5,2).d().r(6,2).m().r(9,8).n().r(10,1).to(10,7).w(9,28).w(10,11).i(10,6).to(10,7),e.y(2013).ny().r(1,1).to(1,3).w(1,5).to(1,6).i(1,2).to(1,3).s().r(2,9).to(2,15).w(2,16).to(2,17).i(2,14).to(2,15).t().r(4,4).to(4,6).w(4,7).i(4,5).l().r(4,29).to(5,1).w(4,27).to(4,28).i(4,29).to(4,30).d().r(6,10).to(6,12).w(6,8).to(6,9).i(6,10).to(6,11).m().r(9,19).to(9,21).w(9,22).i(9,20).n().r(10,1).to(10,7).w(9,29).w(10,12).i(10,4).i(10,7),e.y(2012).ny().r(1,1).to(1,3).i(1,3).s().r(1,22).to(1,28).w(1,21).w(1,29).i(1,26).to(1,27).t().r(4,2).to(4,4).w(3,31).w(4,1).i(4,2).to(4,3).l().r(4,29).to(5,1).w(4,28).i(4,30).d().r(6,22).r(6,24).m().r(9,30).n().r(10,1).to(10,7).w(9,29).i(10,5),e.y(2011).ny().r(1,1).to(1,3).s().r(2,2).to(2,8).w(1,30).w(2,12).i(2,7).to(2,8).t().r(4,3).to(4,5).w(4,2).i(4,4).l().r(4,30).to(5,2).d().r(6,4).r(6,6).m().r(9,10).to(9,12).n().r(10,1).to(10,7).w(10,8).to(10,9).i(10,6).to(10,7).ny().w(12,31),e.y(2010).ny().r(1,1).to(1,3).s().r(2,13).to(2,19).w(2,20).to(2,21).i(2,18).to(2,19).t().r(4,3).to(4,5).l().r(5,1).to(5,3).d().r(6,14).to(6,16).w(6,12).to(6,13).i(6,14).to(6,15).m().r(9,22).to(9,24).w(9,19).w(9,25).i(9,23).to(9,24).n().r(10,1).to(10,7).w(9,26).w(10,9).i(10,6).to(10,7),e.y(2009).ny().r(1,1).to(1,3).w(1,4).i(1,2).s().r(1,25).to(1,31).w(1,24).w(2,1).i(1,29).to(1,30).t().r(4,4).to(4,6).l().r(5,1).to(5,3).d().r(5,28).to(5,30).w(5,31).i(5,29).n().r(10,1).to(10,8).w(9,27).w(10,10).i(10,7).to(10,8).m().r(10,3),e.y(2008).ny().r(1,1).s().r(2,6).to(2,12).w(2,2).to(2,3).i(2,11).to(2,12).t().r(4,4).to(4,6).l().r(5,1).to(5,3).w(5,4).i(5,2).d().r(6,7).to(6,9).m().r(9,13).to(9,15).n().r(9,29).to(10,5).w(9,27).to(9,28).i(9,29).to(9,30),e.y(2007).ny().r(1,1).to(1,3).i(1,2).to(1,3).s().r(2,18).to(2,24).w(2,17).w(2,25).i(2,22).to(2,23).l().r(5,1).to(5,7).w(4,28).to(4,29).i(5,4).i(5,7).n().r(10,1).to(10,7).w(9,29).to(9,30).i(10,4).to(10,5).ny().r(12,30).to(12,31).w(12,29).i(12,31),e.y(2006).ny().r(1,1).to(1,3).s().r(1,29).to(2,4).w(1,28).w(2,5).i(2,2).to(2,3).l().r(5,1).to(5,7).w(4,29).to(4,30).i(5,4).to(5,5).n().r(10,1).to(10,7).w(9,30).w(10,8).i(10,5).to(10,6).ny().w(12,30).to(12,31),e.y(2005).ny().r(1,1).to(1,3).s().r(2,9).to(2,15).w(2,5).to(2,6).i(2,14).to(2,15).l().r(5,1).to(5,7).w(4,30).w(5,8).i(5,5).to(5,6).n().r(10,1).to(10,7).w(10,8).to(10,9).i(10,6).to(10,7),e.y(2004).ny().r(1,1).s().r(1,22).to(1,28).w(1,17).to(1,18).i(1,27).to(1,28).l().r(5,1).to(5,7).w(5,8).to(5,9).i(5,6).to(5,7).n().r(10,1).to(10,7).w(10,9).to(10,10).i(10,6).to(10,7),{holidays:e.holidays,workdays:e.workdays,inLieuDays:e.inLieuDays}})(),m=e=>{let t=a(e);if(!t.isValid())throw Error(`unsupported type ${typeof e}, expected type is Date or Dayjs`);return t},p=e=>!f(e),f=e=>{let t=m(e),i=t.day(),n=t.format("YYYY-MM-DD");return!!(h[n]||i>=1&&i<=5&&!d[n])},g=e=>!!c[m(e).format("YYYY-MM-DD")],y=e=>{let t=m(e),i=t.format("YYYY-MM-DD");if(h[i])return{date:i,work:!0,name:h[i]};if(d[i])return{date:i,work:!1,name:d[i]};{let e=t.day();return{date:i,work:0!==e&&6!==e,name:t.format("dddd")}}},x=(e,t,i=!0)=>{let n=m(e),r=m(t);return i?o(n,r).filter(p).map(e=>e.format("YYYY-MM-DD")):o(n,r).filter(e=>d[e.format("YYYY-MM-DD")]).map(e=>e.format("YYYY-MM-DD"))},v=(e,t,i=!0)=>{let n=m(e),r=m(t);return i?o(n,r).filter(f).map(e=>e.format("YYYY-MM-DD")):o(n,r).filter(e=>f(e)&&e.day()>=1&&5>=e.day()).map(e=>e.format("YYYY-MM-DD"))},b=(e=0,t=s())=>{if(t=a(t),0===e){if(f(t))return t.format("YYYY-MM-DD");e=1}let i=e>0?1:-1,n=Math.abs(e);for(;n>0;)f(t=t.add(i,"day"))&&n--;return t.format("YYYY-MM-DD")},w=Object.freeze(Object.defineProperty({__proto__:null,findWorkday:b,getDayDetail:y,getHolidaysInRange:x,getWorkdaysInRange:v,isHoliday:p,isInLieu:g,isWorkday:f},Symbol.toStringTag,{value:"Module"})),S={the_beginning_of_spring:[4.6295,3.87],rain_water:[19.4599,18.73],the_waking_of_insects:[6.3926,5.63],the_spring_equinox:[21.4155,20.646],pure_brightness:[5.59,4.81],grain_rain:[20.888,20.1],the_beginning_of_summer:[6.318,5.52],lesser_fullness_of_grain:[21.86,21.04],grain_in_beard:[6.5,5.678],the_summer_solstice:[22.2,21.37],lesser_heat:[7.928,7.108],greater_heat:[23.65,22.83],the_beginning_of_autumn:[28.35,7.5],the_end_of_heat:[23.95,23.13],white_dew:[8.44,7.646],the_autumn_equinox:[23.822,23.042],code_dew:[9.098,8.318],frost_descent:[24.218,23.438],the_beginning_of_winter:[8.218,7.438],lesser_snow:[23.08,22.36],greater_snow:[7.9,7.18],the_winter_solstice:[22.6,21.94],lesser_cold:[6.11,5.4055],greater_cold:[20.84,20.12]},D={1:["lesser_cold","greater_cold"],2:["the_beginning_of_spring","rain_water"],3:["the_waking_of_insects","the_spring_equinox"],4:["pure_brightness","grain_rain"],5:["the_beginning_of_summer","lesser_fullness_of_grain"],6:["grain_in_beard","the_summer_solstice"],7:["lesser_heat","greater_heat"],8:["the_beginning_of_autumn","the_end_of_heat"],9:["white_dew","the_autumn_equinox"],10:["code_dew","frost_descent"],11:["the_beginning_of_winter","lesser_snow"],12:["greater_snow","the_winter_solstice"]},M={"2026_rain_water":-1,"2084_the_spring_equinox":1,"1911_the_beginning_of_summer":1,"2008_lesser_fullness_of_grain":1,"1902_grain_in_beard":1,"1928_the_summer_solstice":1,"1925_lesser_heat":1,"2016_lesser_heat":1,"1922_greater_heat":1,"2002_the_beginning_of_autumn":1,"1927_white_dew":1,"1942_the_autumn_equinox":1,"2089_frost_descent":1,"2089_the_beginning_of_winter":1,"1978_lesser_snow":1,"1954_greater_snow":1,"1918_the_winter_solstice":-1,"2021_the_winter_solstice":-1,"1982_lesser_cold":1,"2019_lesser_cold":-1,"2000_greater_cold":1,"2082_greater_cold":1},j={lesser_cold:"小寒",greater_cold:"大寒",the_beginning_of_spring:"立春",rain_water:"雨水",the_waking_of_insects:"惊蛰",the_spring_equinox:"春分",pure_brightness:"清明",grain_rain:"谷雨",the_beginning_of_summer:"立夏",lesser_fullness_of_grain:"小满",grain_in_beard:"芒种",the_summer_solstice:"夏至",lesser_heat:"小暑",greater_heat:"大暑",the_beginning_of_autumn:"立秋",the_end_of_heat:"处暑",white_dew:"白露",the_autumn_equinox:"秋分",code_dew:"寒露",frost_descent:"霜降",the_beginning_of_winter:"立冬",lesser_snow:"小雪",greater_snow:"大雪",the_winter_solstice:"冬至"},k=(e,t,i)=>{let n=e%100,r=S[i][21==(e>=2e3?21:20)?1:0],a=Math.floor(n/4);["lesser_cold","greater_cold","the_beginning_of_spring","rain_water"].includes(i)&&(a=Math.floor((n-1)/4));let o=Math.floor(.2422*n+r)-a,l=M[`${e}_${i}`];return l&&(o+=l),s(`${e}-${t}-${o}`).format("YYYY-MM-DD")},T=(e,t)=>{let i=[],n=a(e),r=a(t||e);for(;n.isBefore(r)||n.isSame(r);){let e=n.year(),t=n.month()+1;D[t].forEach(a=>{let o=s(k(e,t,a));(null!=o&&o.isBefore(r)||null!=o&&o.isSame(r))&&(null!=o&&o.isAfter(n)||null!=o&&o.isSame(n))&&i.push({date:o.format("YYYY-MM-DD"),term:a,name:j[a],index:1})}),n=12===t?n.add(1,"year").startOf("year"):n.add(1,"month").startOf("month")}return i},N=(e,t)=>{let i=a(e).subtract(1,"month"),n=a(t||e).add(1,"month"),r=[];for(;i.isBefore(n)||i.isSame(n);){let e=i.year(),t=i.month()+1;D[t].forEach(i=>{let n=s(k(e,t,i));r.push({term:i,date:n})}),i=11===i.month()?i.add(1,"year").startOf("year"):i.add(1,"month").startOf("month")}let o=[];return r.forEach((e,t)=>{for(let i=e.date;r[t+1]&&i.isBefore(r[t+1].date);i=i.add(1,"day"))o.push({day:i,term:e.term,name:j[e.term],index:i.diff(e.date,"day")+1})}),t||(t=e),o.filter(i=>i.day.isBetween(e,t,"day")).map(e=>({date:e.day.format("YYYY-MM-DD"),term:e.term,name:e.name,index:e.index}))},P=Object.freeze(Object.defineProperty({__proto__:null,getSolarTermDate:k,getSolarTerms:T,getSolarTermsInRange:N},Symbol.toStringTag,{value:"Module"})),C=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],A=["零","一","二","三","四","五","六","七","八","九"],_=["正","二","三","四","五","六","七","八","九","十","冬","腊"],E=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],z=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],O=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],F=e=>{let t=348;for(let i=32768;i>8;i>>=1)t+=C[e-1900]&i?1:0;return t+I(e)},R=e=>15&C[e-1900],I=e=>R(e)?65536&C[e-1900]?30:29:0,$=e=>E[e%10]+z[e%12],V=(e,t)=>C[e-1900]&65536>>t?30:29,Y=e=>O[(e-4)%12],L=e=>10===e?"初十":20===e?"二十":30===e?"三十":["初","十","廿","三十"][Math.floor(e/10)]+A[e%10],B=e=>`${E[(e-4)%10]}${z[(e-4)%12]}年`,W=(e,t)=>{let i=[];for(let n=e;n<=t;n++)i.push({year:n,lunarYear:B(n),lunarYearCN:n.toString().split("").map(e=>A[Number(e)]).join("")});return i},U=e=>{let t=R(e);return{year:e,leapMonth:t||void 0,leapMonthCN:t?`闰${_[t-1]}月`:void 0,days:t?65536&C[e-1900]?30:29:0}},H=e=>{let t=Array(7).fill(0),i=0,n=0,r=s(new Date(1900,0,31)),a=s(e),o=a.diff(r,"day");t[5]=o+40,t[4]=14;let l=1900;for(;l<2100&&o>0;l++)o-=i=F(l),t[4]+=12;o<0&&(o+=i,l--,t[4]-=12),t[0]=l,t[3]=l-1864,n=R(l),t[6]=0;for(let e=1;e<13&&o>=0;e++)n>0&&e===n+1&&0===t[6]?(--e,t[6]=1,i=I(l)):i=V(l,e),1===t[6]&&e===n+1&&(t[6]=0),o-=i,0===t[6]&&t[4]++,t[1]=e;return o<0&&(o+=i,t[1]--,t[4]--),t[2]=o+1,{date:a.format("YYYY-MM-DD"),lunarYear:t[0],lunarMon:t[1]+1,lunarDay:t[2],isLeap:!!t[6],zodiac:Y(t[0]),yearCyl:$(t[3]),monCyl:$(t[4]),dayCyl:$(t[5]),lunarYearCN:`${t[0].toString().split("").map(e=>A[Number(e)]).join("")}`,lunarMonCN:`${_[t[1]]}月`,lunarDayCN:L(t[2])}},q=(e,t)=>{let i=s(e),n=s(t),r=[];for(let e=i;e.isBefore(n)||e.isSame(n,"day");e=e.add(1,"day"))r.push(H(e));return r},G=e=>{let t=s(e),i=t.year(),n=t.month()+1,r=t.date(),a=0;for(let e=1900;e<i;e++)a+=F(e);let o=R(i);for(let e=1;e<n;e++)a+=V(i,e),e===o&&(a+=I(i));a+=r-1;let l=s(new Date(1900,0,31)),u=l.add(a,"day").format("YYYY-MM-DD"),d=a,h;return o===n&&(d+=V(i,n),h=l.add(d,"day").format("YYYY-MM-DD")),{date:u,leapMonthDate:h}},X=Object.freeze(Object.defineProperty({__proto__:null,default:{getLunarYears:W,getYearLeapMonth:U,getLunarDate:H,getLunarDatesInRange:q,getSolarDateFromLunar:G},getLunarDate:H,getLunarDatesInRange:q,getLunarYears:W,getSolarDateFromLunar:G,getYearLeapMonth:U,monthDays:V},Symbol.toStringTag,{value:"Module"})),K={1:{1:["春节","鸡日","元始天尊诞辰"],2:["犬日"],3:["猪日","小年朝"],4:["羊日","孙天医诞辰"],5:["牛日","破五日","开市","路神诞辰"],6:["马日"],7:["人日","送火神"],8:["谷日","阎王诞辰"],9:["天日","玉皇诞辰"],10:["地日","石头生日"],13:["上(试)灯日","关公升天日"],15:["元宵节","上元节","正灯日","天官诞辰"],18:["落灯日"],25:["天仓(填仓)节"]},2:{1:["太阳生日"],2:["春龙节","土地公生日","济公活佛生日"],3:["文昌帝君诞辰"],12:["百花生日(花朝节)"],15:["九天玄女诞辰","太上老君诞辰","精忠岳王诞辰"],19:["观音菩萨诞辰"],21:["普贤菩萨诞辰"]},3:{3:["上巳节"],15:["赵公元帅诞辰","泰山老母诞辰"]},4:{1:["祭雹神"],4:["文殊菩萨诞辰"],8:["浴佛节(龙华会)"],12:["蛇王诞辰"],14:["吕洞宾诞辰"],18:["华佗诞辰"],28:["药王(神农)诞辰"]},5:{5:["端午节"],13:["雨节","黄帝诞辰"]},6:{1:["半年节"],6:["晒衣节"],19:["观音菩萨得道"],24:["雷神诞辰","荷花生日","关公诞辰"]},7:{1:["祭海神"],7:["乞巧节"],15:["中元(鬼)节","地官诞辰(孟兰盆会)"],18:["西王母诞辰"],20:["棉花生日"],23:["诸葛亮诞辰"],30:["地藏菩萨诞辰"]},8:{1:["天医节"],3:["灶君生日"],8:["瑶池大会"],15:["中秋节"],20:["水稻生日"],28:["孔子诞辰"]},9:{9:["重阳节"],19:["观音菩萨出家"]},10:{1:["十月朝","寒衣节"],15:["下元节","水官诞辰"]},12:{8:["腊八节"],23:["官家送灶"],24:["民间送灶"],25:["接玉皇"]}},Q=[(e,t)=>{N(e.add(1,"day")).find(e=>"pure_brightness"===e.term)&&t.push({date:e.format("YYYY-MM-DD"),name:"寒食节",type:"solar_term"})},(e,t)=>{let i=H(e);if(12===i.lunarMon&&i.lunarDay===V(i.lunarYear,12)){let i=e.format("YYYY-MM-DD");["除夕","封井","祭井神","贴春联","迎财神"].forEach(e=>{t.push({date:i,name:e,type:"lunar"})})}}],Z=(e,t)=>{var i;let n=[],r=s(e),a=s(t||e);for(;r.isBefore(a)||r.isSame(a);){let e=H(r);e.isLeap||((null==(i=K[e.lunarMon])?void 0:i[e.lunarDay])||[]).forEach(e=>{n.push({date:r.format("YYYY-MM-DD"),name:e,type:"lunar"})}),Q.forEach(e=>e(r,n)),r=r.add(1,"day")}return n.reduce((e,t)=>{let i=e.find(e=>e.date===t.date);return i?i.name.push(t.name):e.push({date:t.date,name:[t.name]}),e},[])},J={...w,...P,...X,...Object.freeze(Object.defineProperty({__proto__:null,default:{getLunarFestivals:Z},getLunarFestivals:Z},Symbol.toStringTag,{value:"Module"}))};e.default=J,e.findWorkday=b,e.getDayDetail=y,e.getHolidaysInRange=x,e.getLunarDate=H,e.getLunarDatesInRange=q,e.getLunarFestivals=Z,e.getLunarYears=W,e.getSolarDateFromLunar=G,e.getSolarTermDate=k,e.getSolarTerms=T,e.getSolarTermsInRange=N,e.getWorkdaysInRange=v,e.getYearLeapMonth=U,e.isHoliday=p,e.isInLieu=g,e.isWorkday=f,e.monthDays=V,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})(t)}};var t=require("../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),n=t.X(0,[212,885],()=>i(6825));module.exports=n})();